!function(){"use strict";var e,t={7005:function(e,t,r){var o=r(1609),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var o,s={},i=null,u=null;for(o in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,o)&&!l.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===s[o]&&(s[o]=t[o]);return{$$typeof:a,type:e,key:i,ref:u,props:s,_owner:c.current}}t.jsx=s,t.jsxs=s},9255:function(e,t,r){e.exports=r(7005)},1747:function(e,t,r){var o=window.wp.blocks,a=window.wp.primitives,n=r(9255),c=(0,n.jsxs)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,n.jsx)(a.Path,{d:"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z"}),(0,n.jsx)(a.Path,{d:"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z"})]}),l=window.wp.data,s=window.wp.element,i=window.wp.blockEditor,u=window.wp.coreData,p=window.wp.components,d=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),m=window.wp.i18n,y=[["core/columns",{style:{spacing:{blockGap:{top:"30px",left:"60px"}}}},[["core/column",{width:"50%"},[["surecart/product-media"]]],["core/column",{width:"50%"},[["surecart/product-collection-tags",{count:1},[["surecart/product-collection-tag"]]],["surecart/product-title"],["core/group",{style:{spacing:{blockGap:"0"}},layout:{type:"constrained"}},[["core/group",{style:{spacing:{blockGap:"0.5em"}},layout:{type:"flex",flexWrap:"nowrap",justifyContent:"left"}},[["surecart/product-selected-price-scratch-amount",{style:{typography:{textDecoration:"line-through",fontSize:"24px"},color:{text:"#8a8a8a"},elements:{link:{color:{text:"#8a8a8a"}}}}}],["surecart/product-selected-price-amount",{style:{typography:{fontSize:"24px"}}}],["surecart/product-sale-badge",{text:"Sale",style:{border:{radius:"15px"},typography:{fontSize:"12px"},layout:{selfStretch:"fit",flexSize:null},elements:{link:{color:{text:"#fff"}}}},textColor:"white"}]]],["core/group",{style:{spacing:{blockGap:"0.5em"}},layout:{type:"flex",flexWrap:"nowrap"}},[["surecart/product-selected-price-trial",{style:{color:{text:"#8a8a8a"},elements:{link:{color:{text:"#8a8a8a"}}}}}],["surecart/product-selected-price-fees",{style:{color:{text:"#8a8a8a"},elements:{link:{color:{text:"#8a8a8a"}}}}}]]]]],["surecart/product-description"],["surecart/product-variant-pills",[["surecart/product-variant-pills-wrapper",[["surecart/product-variant-pill"]]]]],["surecart/product-price-chooser",[["surecart/product-price-choice-template",{layout:{type:"flex",justifyContent:"left",flexWrap:"nowrap",orientation:"vertical"}},[["surecart/price-name"],["core/group",{style:{spacing:{blockGap:"0px"}},layout:{type:"flex",orientation:"vertical",justifyContent:"right"}},[["core/group",{style:{spacing:{blockGap:"0.5rem"}},layout:{type:"flex",flexWrap:"nowrap",justifyContent:"left"}},[["surecart/price-scratch-amount",{style:{elements:{link:{color:{text:"#686868"}}},typography:{fontStyle:"normal",fontWeight:"700",textDecoration:"line-through"}},textColor:"#686868"},[]],["surecart/price-amount",{style:{elements:{link:{color:{text:"var:preset|color|accent-3"}}},typography:{fontStyle:"normal",fontWeight:"700"}},textColor:"accent-3"},[]],["surecart/price-interval",{style:{elements:{link:{color:{text:"var:preset|color|accent-3"}}},typography:{fontStyle:"normal",fontWeight:"700"}},textColor:"accent-3"},[]]]],["surecart/price-trial",{style:{color:{text:"#8a8a8a"},elements:{link:{color:{text:"#8a8a8a"}}}},fontSize:"small"}],["surecart/price-setup-fee",{style:{color:{text:"#8a8a8a"},elements:{link:{color:{text:"#8a8a8a"}}}},fontSize:"small"}]]]]]]],["surecart/product-quantity"],["surecart/product-selected-price-ad-hoc-amount"],["surecart/product-buy-buttons",{class:"wp-block-surecart-product-buy-buttons wp-block-buttons sc-block-buttons is-layout-flex"},[["surecart/product-buy-button",{add_to_cart:!0,text:"Add To Cart"}],["surecart/product-buy-button",{text:"Buy Now",style:"outline"}]]]]]]]],_=(window.wp.htmlEntities,window.wp.compose);function f(e,t,r){const a=(0,l.useSelect)((e=>e(o.store).getActiveBlockVariation(r,t)?.name),[t]),n=`${r}/${a}`;return(0,l.useSelect)((t=>{if(!a)return!1;const{getBlockRootClientId:r,getPatternsByBlockTypes:o}=t(i.store),c=r(e);return o(n,c).length>0}),[e,a,n])?n:r}const h=(e,t)=>(0,l.useSelect)((r=>{const{getBlockRootClientId:o,getPatternsByBlockTypes:a}=r(i.store),n=o(e);return a(t,n)}),[t,e]);var g=e=>{let{openPatternSelectionModal:t,name:r,clientId:o}=e;const a=!!h(o,r).length;return React.createElement(React.Fragment,null,a&&React.createElement(p.ToolbarGroup,{className:"wp-block-template-part__block-control-group"},React.createElement(p.ToolbarButton,{onClick:t},(0,m.__)("Replace"))))};function k(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=k(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var v=function(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=k(e))&&(o&&(o+=" "),o+=t);return o};function b(e){let{title:t,subtitle:r,url:o,imageUrl:a,controls:n}=e;return React.createElement("div",{role:"group","aria-label":(0,m.__)("Manage link","surecart"),className:"block-editor-link-control__search-item is-current is-preview",style:{padding:0}},React.createElement("div",{className:"block-editor-link-control__search-item-top"},React.createElement("span",{className:"block-editor-link-control__search-item-header",role:"figure","aria-label":(0,m.__)("Link information","surecart")},React.createElement("span",{className:v("block-editor-link-control__search-item-icon",{"is-image":!!a})},!!a&&React.createElement("img",{className:"block-editor-link-control__search-item-image",src:a,alt:(0,m.__)("Product image","surecart")})),React.createElement("span",{className:"block-editor-link-control__search-item-details"},React.createElement(p.ExternalLink,{className:"block-editor-link-control__search-item-title",href:o},React.createElement(p.__experimentalTruncate,{numberOfLines:1},React.createElement("span",{className:"block-editor-link-control__search-item-title"},t))),!!r&&React.createElement("span",{className:"block-editor-link-control__search-item-info"},r))),n))}function w(e){let{isVisible:t,post:r,onChoose:o,...a}=e;if(!t)return null;const n={type:"post",subtype:"sc_product",perPage:20};return React.createElement(p.Popover,a,React.createElement(i.__experimentalLinkControl,{value:r?.link,onChange:o,showInitialSuggestions:!0,hasTextControl:!0,searchInputPlaceholder:(0,m.__)("Search for a product","surecart"),suggestionsQuery:{...n,initialSuggestionsSearchOptions:n}}))}function R(e,t){return(0,l.useSelect)((r=>{const{getCurrentPostType:o,getCurrentPostId:a}=r("core/editor")||{},n=o?.()||null,c=a?.();return e.includes(n)&&t.some((e=>c?.includes(e)))}),[e,t])}function x(e){let{name:t,clientId:r,openPatternSelectionModal:o,attributes:a,setAttributes:n}=e;const c=a?.product_post_id,[_,f]=(0,s.useState)(!1),h=(0,i.useBlockProps)({className:"sc-product-page__editor-container"}),k=(0,i.useInnerBlocksProps)(h,{template:y,renderAppender:i.InnerBlocks.ButtonBlockAppender}),v=R(["wp_template","wp_template_part"],["wp_template_part","wp_template","surecart/surecart//product-info","surecart/surecart//single-sc_product"]),{post:x,loading:E}=(0,l.useSelect)((e=>{if(!c)return{post:null,loading:!1};const t=["postType","sc_product",c];return{post:e(u.store).getEntityRecord(...t),loading:e(u.store).isResolving("getEntityRecord",t)}}),[c]);return React.createElement(React.Fragment,null,React.createElement(i.BlockControls,null,React.createElement(g,{name:t,clientId:r,openPatternSelectionModal:o})),!v&&React.createElement(i.InspectorControls,null,React.createElement(p.PanelBody,{title:(0,m.__)("Product","surecart")},React.createElement(p.Card,null,React.createElement(p.CardBody,{style:{padding:"var(--sc-spacing-medium)"}},E&&React.createElement("div",{style:{textAlign:"center"}},React.createElement(p.Spinner,null)),x?.id&&React.createElement(b,{title:x?.title?.rendered,subtitle:x?.link,url:x?.link,imageUrl:x?.gallery?.[0]?.url,controls:React.createElement(p.Button,{icon:d,label:(0,m.__)("Replace Product","surecart"),onClick:()=>f(!_),size:"compact",showTooltip:!0},React.createElement(w,{isVisible:_,post:x,onChoose:e=>{n({product_post_id:e.id}),f(!1)},onClose:()=>f(!1)}))}))))),React.createElement("div",k))}var E=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});function B(e){let{attributes:t,setAttributes:r,clientId:a,name:n,openPatternSelectionModal:c}=e;const d=t?.product_post_id,[_,h]=(0,s.useState)(!1),{replaceInnerBlocks:g}=(0,l.useDispatch)(i.store),k=(0,i.useBlockProps)(),v=f(a,t,n),{blockType:x,activeBlockVariation:B,hasPatterns:C}=(0,l.useSelect)((e=>{const{getActiveBlockVariation:r,getBlockType:c}=e(o.store),{getBlockRootClientId:l,getPatternsByBlockTypes:s}=e(i.store),u=l(a);return{blockType:c(n),activeBlockVariation:r(n,t),hasPatterns:!!s(v,u).length}}),[n,v,a,t]),S=B?.icon?.src||B?.icon||x?.icon?.src,P=B?.title||x?.title,I=R(["wp_template","wp_template_part"],["wp_template_part","wp_template","surecart/surecart//product-info","surecart/surecart//single-sc_product"]),O=I?(0,m.__)("Choose a pattern for the product page or start with a basic layout.","surecart"):(0,m.__)("Choose a product & pattern for the product page or start with a basic layout."),{post:T,loading:j}=(0,l.useSelect)((e=>{if(!d)return{post:null,loading:!1};const t=["postType","sc_product",d];return{post:e(u.store).getEntityRecord(...t),loading:e(u.store).isResolving("getEntityRecord",t)}}),[d]),N=()=>T?.id||I?React.createElement(p.Flex,{gap:4,justify:"start"},React.createElement(p.Button,{variant:"primary",onClick:()=>{const e=(0,o.createBlocksFromInnerBlocksTemplate)(y);e.forEach((e=>{"surecart/product-page"===e.name&&(e.attributes={...e.attributes,product_post_id:t.product_post_id})})),g(a,e,!1)}},(0,m.__)("Start with Basic Layout","surecart")),!!C&&React.createElement(p.Button,{variant:"secondary",onClick:c},(0,m.__)("Choose a pattern","surecart"))):null;return React.createElement("div",k,React.createElement(p.Placeholder,{icon:S,label:P,instructions:O},I?N():React.createElement("div",null,T?.id?React.createElement("div",{style:{marginBottom:"var(--sc-spacing-medium)"}},React.createElement(p.Card,null,React.createElement(p.CardBody,{style:{padding:"var(--sc-spacing-medium)"}},React.createElement(b,{title:T?.title?.rendered,subtitle:T?.link,url:T?.link,imageUrl:T?.gallery?.[0]?.url,controls:React.createElement(p.Button,{icon:E,label:(0,m.__)("Remove","surecart"),onClick:()=>{r({product_post_id:null}),h(!1)},size:"compact",showTooltip:!0})})))):null,T?.id?null:React.createElement("div",{style:{minWidth:"500px"}},React.createElement(p.Button,{variant:"primary",onClick:()=>h(!_),isBusy:j},(0,m.__)("Choose Product","surecart"),React.createElement(w,{isVisible:_,post:T,onChoose:e=>{r({product_post_id:e?.id})},onClose:()=>h(!1)}))),N())))}function C(e){let{clientId:t,attributes:r,setIsPatternSelectionModalOpen:a,name:n}=e;const[c,u]=(0,s.useState)(""),{replaceBlock:d,selectBlock:y}=(0,l.useDispatch)(i.store),g=(0,s.useMemo)((()=>({previewPostType:"sc_product"})),["sc_product"]),k=f(t,r,n),v=h(t,k),b=(0,s.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e;const r=e.map((e=>[e,getPatternSearchRank(e,t)])).filter((e=>{let[,t]=e;return t>0}));return r.sort(((e,t)=>{let[,r]=e,[,o]=t;return o-r})),r.map((e=>{let[t]=e;return t}))}(v,c)),[v,c]),w=(0,_.useAsyncList)(b);return React.createElement(p.Modal,{overlayClassName:"block-library-query-pattern__selection-modal",title:(0,m.__)("Choose a pattern","surecart"),onRequestClose:()=>a(!1),isFullScreen:!0},React.createElement("div",{className:"block-library-query-pattern__selection-content"},React.createElement("div",{className:"block-library-query-pattern__selection-search"},React.createElement(p.SearchControl,{__nextHasNoMarginBottom:!0,onChange:u,value:c,label:(0,m.__)("Search for patterns","surecart"),placeholder:(0,m.__)("Search","surecart")})),React.createElement(i.BlockContextProvider,{value:g},React.createElement(i.__experimentalBlockPatternsList,{blockPatterns:b,shownPatterns:w,onClickPattern:(e,a)=>{const{newBlocks:c,queryClientIds:l}=((e,t,r)=>{const{namespace:a}=t,n=e.map((e=>(0,o.cloneBlock)(e))),c=[],l=[...n];for(;l.length>0;){const e=l.shift();e.name===r&&(a&&(e.attributes.namespace=a),c.push(e.clientId)),e.innerBlocks?.forEach((e=>{l.push(e)}))}return{newBlocks:n,queryClientIds:c}})(a,r,n);c[0]&&(c[0].attributes={...c[0].attributes,...r}),d(t,c),l[0]&&y(l[0])}}))))}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},S.apply(null,arguments)}var P=JSON.parse('{"UU":"surecart/product-page"}');(0,o.registerBlockType)(P.UU,{edit:e=>{const{clientId:t,attributes:r,name:o}=e,[a,n]=(0,s.useState)(!1),c=(0,l.useSelect)((e=>!!e(i.store).getBlocks(t).length),[t]),p=(0,l.useSelect)((e=>{const{getEntityRecord:t}=e(u.store),o=r?.product_post_id;return o?t("postType","sc_product",o):null}),[r?.product_post_id]),d=(0,s.useMemo)((()=>({...p?.type?{postType:p.type}:{},...p?.id?{postId:p.id}:{},...p?.class_list?{classList:p.class_list}:{},...o?{providerBlock:o}:{}})),[p,o]),m=c?x:B;return React.createElement(React.Fragment,null,React.createElement(i.BlockContextProvider,{key:d?.postId,value:d},React.createElement(m,S({},e,{openPatternSelectionModal:()=>n(!0)}))),a&&React.createElement(C,{clientId:t,attributes:r,setIsPatternSelectionModalOpen:n,name:o}))},save:function(){return React.createElement(i.InnerBlocks.Content,null)},icon:c})},1609:function(e){e.exports=window.React}},r={};function o(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=function(t,r,a,n){if(!r){var c=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],n=e[u][2];for(var l=!0,s=0;s<r.length;s++)(!1&n||c>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[s])}))?r.splice(s--,1):(l=!1,n<c&&(c=n));if(l){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,a,n]},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={8002:0,4710:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,c=r[0],l=r[1],s=r[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(s)var u=s(o)}for(t&&t(r);i<c.length;i++)n=c[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},r=self.webpackChunk_surecart_blocks_next=self.webpackChunk_surecart_blocks_next||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var a=o.O(void 0,[4710],(function(){return o(1747)}));a=o.O(a)}();