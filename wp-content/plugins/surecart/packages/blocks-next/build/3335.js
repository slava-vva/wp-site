"use strict";(self.webpackChunk_surecart_blocks_next=self.webpackChunk_surecart_blocks_next||[]).push([[3335],{8572:function(t,i,e){e.d(i,{F:function(){return n},p:function(){return r},r:function(){return s}});class n{constructor(t,i){this.form=null,this.input=t,this.options={form:t=>{var i,e;return(null===(e=null===(i=this.closestElement("sc-form",t))||void 0===i?void 0:i.shadowRoot)||void 0===e?void 0:e.querySelector("form"))||this.closestElement("form",t)},name:t=>t.name,value:t=>t.value,disabled:t=>t.disabled,...i},this.form=this.options.form(this.input),this.handleFormData=this.handleFormData.bind(this)}closestElement(t,i){return i?i&&i!=document&&i!=window&&i.closest(t)||this.closestElement(t,i.getRootNode().host):null}addFormData(){this.form&&this.form.addEventListener("formdata",this.handleFormData)}removeFormData(){this.form&&this.form.removeEventListener("formdata",this.handleFormData)}handleFormData(t){const i=this.options.name(this.input),e=this.options.value(this.input);"string"==typeof i&&void 0!==e&&(Array.isArray(e)?e.forEach((e=>{e&&t.formData.append(i,e.toString())})):e&&t.formData.append(i,e.toString()))}}const r=t=>{var i;const{email:e,name:n,first_name:r,last_name:s,phone:o,password:a,shipping_city:l,shipping_country:u,shipping_line_1:c,shipping_line_2:d,shipping_postal_code:h,shipping_state:p,billing_city:f,billing_country:m,billing_line_1:b,billing_line_2:g,billing_postal_code:_,billing_state:v,"tax_identifier.number_type":y,"tax_identifier.number":k,...x}=t,w={...l?{city:l}:{},...u?{country:u}:{},...c?{line_1:c}:{},...d?{line_2:d}:{},...h?{postal_code:h}:{},...p?{state:p}:{}},F={...f?{city:f}:{},...m?{country:m}:{},...b?{line_1:b}:{},...g?{line_2:g}:{},..._?{postal_code:_}:{},...v?{state:v}:{}};return{...n?{name:n}:{},...e?{email:e}:{},...r?{first_name:r}:{},...s?{last_name:s}:{},...o?{phone:o}:{},...a?{password:a}:{},...Object.keys(w||{}).length?{shipping_address:w}:{},...Object.keys(F||{}).length?{billing_address:F}:{},...y&&k?{tax_identifier:{number:k,number_type:y}}:{},...(null===(i=Object.keys(x))||void 0===i?void 0:i.length)?{metadata:x}:{}}},s=async t=>{const i=[...t.shadowRoot.querySelectorAll("*")].filter((t=>"function"==typeof t.reportValidity));for(const t of i)if(!await t.reportValidity())return!1;return!0}},4777:function(t,i,e){function n(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function r(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function s(t,i){return function(e,s,o,a=10){const l=t[i];if(!r(e))return;if(!n(s))return;if("function"!=typeof o)return void console.error("The hook callback must be a function.");if("number"!=typeof a)return void console.error("If specified, the hook priority must be a number.");const u={callback:o,priority:a,namespace:s};if(l[e]){const t=l[e].handlers;let i;for(i=t.length;i>0&&!(a>=t[i-1].priority);i--);i===t.length?t[i]=u:t.splice(i,0,u),l.__current.forEach((t=>{t.name===e&&t.currentIndex>=i&&t.currentIndex++}))}else l[e]={handlers:[u],runs:0};"hookAdded"!==e&&t.doAction("hookAdded",e,s,o,a)}}function o(t,i,e=!1){return function(s,o){const a=t[i];if(!r(s))return;if(!e&&!n(o))return;if(!a[s])return 0;let l=0;if(e)l=a[s].handlers.length,a[s]={runs:a[s].runs,handlers:[]};else{const t=a[s].handlers;for(let i=t.length-1;i>=0;i--)t[i].namespace===o&&(t.splice(i,1),l++,a.__current.forEach((t=>{t.name===s&&t.currentIndex>=i&&t.currentIndex--})))}return"hookRemoved"!==s&&t.doAction("hookRemoved",s,o),l}}function a(t,i){return function(e,n){const r=t[i];return void 0!==n?e in r&&r[e].handlers.some((t=>t.namespace===n)):e in r}}function l(t,i,e=!1){return function(n,...r){const s=t[i];s[n]||(s[n]={handlers:[],runs:0}),s[n].runs++;const o=s[n].handlers;if(!o||!o.length)return e?r[0]:void 0;const a={name:n,currentIndex:0};for(s.__current.push(a);a.currentIndex<o.length;){const t=o[a.currentIndex].callback.apply(null,r);e&&(r[0]=t),a.currentIndex++}return s.__current.pop(),e?r[0]:void 0}}function u(t,i){return function(){var e;const n=t[i];return null!==(e=n.__current[n.__current.length-1]?.name)&&void 0!==e?e:null}}function c(t,i){return function(e){const n=t[i];return void 0===e?void 0!==n.__current[0]:!!n.__current[0]&&e===n.__current[0].name}}function d(t,i){return function(e){const n=t[i];if(r(e))return n[e]&&n[e].runs?n[e].runs:0}}e.d(i,{a:function(){return x},d:function(){return h}});const h=new class{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=s(this,"actions"),this.addFilter=s(this,"filters"),this.removeAction=o(this,"actions"),this.removeFilter=o(this,"filters"),this.hasAction=a(this,"actions"),this.hasFilter=a(this,"filters"),this.removeAllActions=o(this,"actions",!0),this.removeAllFilters=o(this,"filters",!0),this.doAction=l(this,"actions"),this.applyFilters=l(this,"filters",!0),this.currentAction=u(this,"actions"),this.currentFilter=u(this,"filters"),this.doingAction=c(this,"actions"),this.doingFilter=c(this,"filters"),this.didAction=d(this,"actions"),this.didFilter=d(this,"filters")}},{addAction:p,addFilter:f,removeAction:m,removeFilter:b,hasAction:g,hasFilter:_,removeAllActions:v,removeAllFilters:y,doAction:k,applyFilters:x,currentAction:w,currentFilter:F,doingAction:A,doingFilter:C,didAction:q,didFilter:I,actions:z,filters:D}=h},3335:function(t,i,e){e.r(i),e.d(i,{sc_phone_input:function(){return a}});var n=e(6892),r=e(4777),s=e(8572);let o=0;const a=class{constructor(t){(0,n.r)(this,t),this.scChange=(0,n.c)(this,"scChange",7),this.scClear=(0,n.c)(this,"scClear",7),this.scInput=(0,n.c)(this,"scInput",7),this.scFocus=(0,n.c)(this,"scFocus",7),this.scBlur=(0,n.c)(this,"scBlur",7),this.inputId="phone-input-"+ ++o,this.helpId=`phone-input-help-text-${o}`,this.labelId=`phone-input-label-${o}`,this.squared=void 0,this.squaredBottom=void 0,this.squaredTop=void 0,this.squaredLeft=void 0,this.squaredRight=void 0,this.hidden=!1,this.size="medium",this.name=void 0,this.value="",this.pill=!1,this.label=void 0,this.showLabel=!0,this.help="",this.clearable=!1,this.togglePassword=!1,this.placeholder=void 0,this.disabled=!1,this.readonly=!1,this.minlength=void 0,this.maxlength=void 0,this.min=void 0,this.max=void 0,this.step=void 0,this.pattern="[-s#0-9_+/().]*",this.required=!1,this.invalid=!1,this.autocorrect=void 0,this.autocomplete=void 0,this.autofocus=void 0,this.spellcheck=void 0,this.hasFocus=void 0}async reportValidity(){return this.input.reportValidity()}async triggerFocus(t){return this.input.focus(t)}async setCustomValidity(t){this.input.setCustomValidity(t),this.invalid=!this.input.checkValidity()}async triggerBlur(){return this.input.blur()}select(){return this.input.select()}handleBlur(){this.hasFocus=!1,this.scBlur.emit()}handleFocus(){this.hasFocus=!0,this.scFocus.emit()}handleChange(){this.value=this.input.value,this.scChange.emit()}handleInput(){this.value=this.input.value.replace(/\s/g,""),this.input.value=this.value,this.scInput.emit()}handleClearClick(t){this.value="",this.scClear.emit(),this.scInput.emit(),this.scChange.emit(),this.input.focus(),t.stopPropagation()}handleFocusChange(){setTimeout((()=>{this.hasFocus&&this.input?this.input.focus():this.input.blur()}),0)}handleValueChange(){this.input&&(this.invalid=!this.input.checkValidity())}componentDidLoad(){this.formController=new s.F(this.el).addFormData(),this.handleFocusChange()}disconnectedCallback(){var t;null===(t=this.formController)||void 0===t||t.removeFormData()}render(){var t;return(0,n.h)(n.H,{key:"5af8e6e719326bd10b7ff6107df7f567435cd717",hidden:this.hidden},(0,n.h)("sc-form-control",{key:"f5dabd19605fe2613480c8c1f45e177d80b86fe6",exportparts:"label, help-text, form-control",size:this.size,required:this.required,label:this.label,showLabel:this.showLabel,help:this.help,inputId:this.inputId,helpId:this.helpId,labelId:this.labelId,name:this.name,"aria-label":this.label},(0,n.h)("slot",{key:"42fccaf894b83525a2dda7b21025751cb6949be6",name:"label-end",slot:"label-end"}),(0,n.h)("div",{key:"d9e910d5529409ee9b4d37b2f2fe24489207009f",part:"base",class:{input:!0,"input--small":"small"===this.size,"input--medium":"medium"===this.size,"input--large":"large"===this.size,"input--focused":this.hasFocus,"input--invalid":this.invalid,"input--disabled":this.disabled,"input--squared":this.squared,"input--squared-bottom":this.squaredBottom,"input--squared-top":this.squaredTop,"input--squared-left":this.squaredLeft,"input--squared-right":this.squaredRight}},(0,n.h)("span",{key:"721e4896cd363b33549e8b777d07e019dd22f4f0",part:"prefix",class:"input__prefix"},(0,n.h)("slot",{key:"a96112e51a2497f16991980b7e5a59f4a196baca",name:"prefix"})),(0,n.h)("slot",{key:"9015feeac3291b50be8e90f6dfcf022c444a3dbf"},(0,n.h)("input",{key:"3704dd32f87e03db2b28c441c19260093ef16a52",part:"input",id:this.inputId,class:"input__control",ref:t=>this.input=t,type:"tel",name:this.name,disabled:this.disabled,readonly:this.readonly,required:this.required,placeholder:this.placeholder,minlength:this.minlength,maxlength:this.maxlength,min:this.min,max:this.max,step:this.step,autocomplete:"tel",autocorrect:this.autocorrect,autofocus:this.autofocus,spellcheck:this.spellcheck,pattern:(0,r.a)("surecart/sc-phone-input/pattern",this.pattern),inputmode:"numeric","aria-label":this.label,"aria-labelledby":this.label,"aria-invalid":!!this.invalid,value:this.value,onChange:()=>this.handleChange(),onInput:()=>this.handleInput(),onFocus:()=>this.handleFocus(),onBlur:()=>this.handleBlur()})),(0,n.h)("span",{key:"403cc791e3d27a9ab8f42bcdb88fdd602a9fddf5",part:"suffix",class:"input__suffix"},(0,n.h)("slot",{key:"566a7ec9bb6456f6755a40057c5e19112fb05abc",name:"suffix"})),this.clearable&&(null===(t=this.value)||void 0===t?void 0:t.length)>0&&(0,n.h)("button",{key:"5f1b5582e39ccc724d248b6a1270a21946c4245f",part:"clear-button",class:"input__clear",type:"button",onClick:t=>this.handleClearClick(t),tabindex:"-1"},(0,n.h)("slot",{key:"552b4d83027e3327ec8c3f4d430df43fcc40be84",name:"clear-icon"},(0,n.h)("svg",{key:"65fcca5afb9fa10a25db959b4835810a12176693",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},(0,n.h)("line",{key:"1c040e045a8a8c59b8d3e11e6c8645130c7da486",x1:"18",y1:"6",x2:"6",y2:"18"}),(0,n.h)("line",{key:"e2f9d2c7c6036781075b9a2d368c1d1158ef42db",x1:"6",y1:"6",x2:"18",y2:"18"})))))))}get el(){return(0,n.a)(this)}static get watchers(){return{hasFocus:["handleFocusChange"],value:["handleValueChange"]}}};a.style=":host{--focus-ring:0 0 0 var(--sc-focus-ring-width) var(--sc-focus-ring-color-primary);display:block;position:relative}:host([invalid]) .input,:host([invalid]) .input:hover:not(.input--disabled),:host([invalid]) .input--focused:not(.input--disabled){border-color:var(--sc-input-border-color-invalid);box-shadow:0 0 0 var(--sc-focus-ring-width) var(--sc-input-border-color-invalid)}.input__control[type=number]{-moz-appearance:textfield}.input__control::-webkit-outer-spin-button,.input__control::-webkit-inner-spin-button{-webkit-appearance:none}.input{flex:1 1 auto;display:inline-flex;align-items:center;justify-content:start;position:relative;width:100%;box-sizing:border-box;font-family:var(--sc-input-font-family);font-weight:var(--sc-input-font-weight);letter-spacing:var(--sc-input-letter-spacing);background-color:var(--sc-input-background-color);border:solid 1px var(--sc-input-border-color, var(--sc-input-border));vertical-align:middle;box-shadow:var(--sc-input-box-shadow);transition:var(--sc-transition-fast) color, var(--sc-transition-fast) border, var(--sc-transition-fast) box-shadow;cursor:text}.input:hover:not(.input--disabled){background-color:var(--sc-input-background-color-hover);border-color:var(--sc-input-border-color-hover);z-index:7}.input:hover:not(.input--disabled) .input__control{color:var(--sc-input-color-hover)}.input.input--focused:not(.input--disabled){background-color:var(--sc-input-background-color-focus);border-color:var(--sc-input-border-color-focus);box-shadow:var(--focus-ring);z-index:8}.input.input--focused:not(.input--disabled) .input__control{color:var(--sc-input-color-focus)}.input.input--disabled{background-color:var(--sc-input-background-color-disabled);border-color:var(--sc-input-border-color-disabled);opacity:0.5;cursor:not-allowed}.input.input--disabled .input__control{color:var(--sc-input-color-disabled)}.input.input--disabled .input__control::placeholder{color:var(--sc-input-placeholder-color-disabled)}.input__control{flex:1 1 auto;font-family:inherit;font-size:inherit;font-weight:inherit;min-width:0;height:100%;color:var(--sc-input-color);border:none;background:none;box-shadow:none;padding:0;margin:0;cursor:inherit;-webkit-appearance:none}.input__control::-webkit-search-decoration,.input__control::-webkit-search-cancel-button,.input__control::-webkit-search-results-button,.input__control::-webkit-search-results-decoration{-webkit-appearance:none}.input__control:-webkit-autofill,.input__control:-webkit-autofill:hover,.input__control:-webkit-autofill:focus,.input__control:-webkit-autofill:active{box-shadow:0 0 0 var(--sc-input-height-large) var(--sc-input-background-color-hover) inset !important;-webkit-text-fill-color:var(--sc-input-color)}.input__control::placeholder{color:var(--sc-input-placeholder-color);user-select:none}.input__control:focus{outline:none}.input__prefix,.input__suffix{display:inline-flex;flex:0 0 auto;align-items:center;color:var(--sc-input-color);cursor:default}.input__prefix ::slotted(sc-icon),.input__suffix ::slotted(sc-icon){color:var(--sc-input-icon-color)}.input--small{border-radius:var(--sc-input-border-radius-small);font-size:var(--sc-input-font-size-small);height:var(--sc-input-height-small)}.input--small .input__control{height:calc(var(--sc-input-height-small) - var(--sc-input-border-width) * 2);padding:0 var(--sc-input-spacing-small)}.input--small .input__clear,.input--small .input__password-toggle{margin-right:var(--sc-input-spacing-small)}.input--small .input__prefix ::slotted(*){margin-left:var(--sc-input-spacing-small)}.input--small .input__suffix ::slotted(*){margin-right:var(--sc-input-spacing-small)}.input--small .input__suffix ::slotted(sc-dropdown){margin:0}.input--medium{border-radius:var(--sc-input-border-radius-medium);font-size:var(--sc-input-font-size-medium);height:var(--sc-input-height-medium)}.input--medium .input__control{height:calc(var(--sc-input-height-medium) - var(--sc-input-border-width) * 2);padding:0 var(--sc-input-spacing-medium)}.input--medium .input__clear,.input--medium .input__password-toggle{margin-right:var(--sc-input-spacing-medium)}.input--medium .input__prefix ::slotted(*){margin-left:var(--sc-input-spacing-medium) !important}.input--medium .input__suffix ::slotted(:not(sc-button[size=medium])){margin-right:var(--sc-input-spacing-medium) !important}.input--medium .input__suffix ::slotted(sc-tag){margin-right:var(--sc-input-spacing-small) !important}.input--medium .input__suffix ::slotted(sc-dropdown){margin:3px}.input--large{border-radius:var(--sc-input-border-radius-large);font-size:var(--sc-input-font-size-large);height:var(--sc-input-height-large)}.input--large .input__control{height:calc(var(--sc-input-height-large) - var(--sc-input-border-width) * 2);padding:0 var(--sc-input-spacing-large)}.input--large .input__clear,.input--large .input__password-toggle{margin-right:var(--sc-input-spacing-large)}.input--large .input__prefix ::slotted(*){margin-left:var(--sc-input-spacing-large)}.input--large .input__suffix ::slotted(*){margin-right:var(--sc-input-spacing-large)}.input--large .input__suffix ::slotted(sc-dropdown){margin:3px}.input--pill.input--small{border-radius:var(--sc-input-height-small)}.input--pill.input--medium{border-radius:var(--sc-input-height-medium)}.input--pill.input--large{border-radius:var(--sc-input-height-large)}.input__clear,.input__password-toggle{display:inline-flex;align-items:center;font-size:inherit;color:var(--sc-input-icon-color);border:none;background:none;padding:0;transition:var(--sc-transition-fast) color;cursor:pointer}.input__clear:hover,.input__password-toggle:hover{color:var(--sc-input-icon-color-hover)}.input__clear:focus,.input__password-toggle:focus{outline:none}.input--empty .input__clear{visibility:hidden}.input--squared{border-radius:0}.input--squared-top{border-top-left-radius:0;border-top-right-radius:0}.input--squared-bottom{border-bottom-left-radius:0;border-bottom-right-radius:0}.input--squared-left{border-top-left-radius:0;border-bottom-left-radius:0}.input--squared-right{border-top-right-radius:0;border-bottom-right-radius:0}"}}]);