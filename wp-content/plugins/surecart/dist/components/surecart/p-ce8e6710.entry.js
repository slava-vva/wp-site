import{r as i,c as e,h as s,a as t,H as o,F as n}from"./p-e97fde0a.js";import{c as r,h as l}from"./p-07b1b1ed.js";import{r as a,F as d}from"./p-8b323bfb.js";import{s as c,o as u,u as p}from"./p-53e7f7d7.js";import{f as h,a as v}from"./p-ff10bfbf.js";import{s as b}from"./p-95325ec5.js";import{o as f}from"./p-393cb717.js";import{l as m,b as _,r as g,a as y,t as k}from"./p-2879e1b7.js";import{c as w}from"./p-85586e39.js";import{s as x}from"./p-830ab1a3.js";import{i as S,g as C}from"./p-4df6e0c5.js";import{f as j,s as A,a as z}from"./p-9e262748.js";import{c as q}from"./p-1f60f497.js";import{i as L}from"./p-b0d8cd6e.js";import"./p-03631502.js";import"./p-9dbc54d6.js";import"./p-d3366af3.js";import"./p-401e165e.js";import"./p-ec182234.js";import"./p-3f6362a4.js";import"./p-d9fa04f9.js";const D=":host{display:block}.sc-address{display:block;position:relative}.sc-address [hidden]{display:none}.sc-address--loading{min-height:70px}.sc-address--loading sc-skeleton{display:block;margin-bottom:1em}.sc-address__control{display:block}.sc-address__control>*{margin-bottom:-1px}.sc-address__columns{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;justify-content:space-between}.sc-address__columns>*{flex:1;width:50%;margin-left:-1px}.sc-address__columns>*:first-child{margin-left:0}";const O=D;const I=class{constructor(s){i(this,s);this.scChangeAddress=e(this,"scChangeAddress",7);this.scInputAddress=e(this,"scInputAddress",7);this.address={country:null,city:null,line_1:null,line_2:null,postal_code:null,state:null};this.names={country:"shipping_country",city:"shipping_city",line_1:"shipping_line_1",line_2:"shipping_line_2",postal_code:"shipping_postal_code",state:"shipping_state"};this.placeholders={country:"",postal_code:"",state:""};this.label=wp.i18n.__("Country or region","surecart");this.required=undefined;this.loading=undefined;this.countryChoices=r;this.regions=undefined;this.showState=undefined;this.showPostal=undefined}handleAddressChange(){var i;if(!((i=this.address)===null||i===void 0?void 0:i.country))return;this.setRegions();this.showState=["US","CA"].includes(this.address.country);this.showPostal=["US"].includes(this.address.country);this.scChangeAddress.emit(this.address);this.scInputAddress.emit(this.address)}updateAddress(i){this.address={...this.address,...i}}handleAddressInput(i){this.scInputAddress.emit({...this.address,...i})}clearAddress(){var i;this.address={name:(i=this.address)===null||i===void 0?void 0:i.name,country:null,line_1:null,line_2:null,city:null,postal_code:null,state:null}}setRegions(){if(l(this.address.country)){import("./p-9e98586e.js").then((i=>{this.regions=i===null||i===void 0?void 0:i[this.address.country]}))}else{this.regions=[]}}componentWillLoad(){var i;this.handleAddressChange();const e=(i=this.countryChoices.find((i=>i.value===this.address.country)))===null||i===void 0?void 0:i.value;if(e){this.updateAddress({country:e})}}async reportValidity(){return a(this.el)}getStatePlaceholder(){var i,e,s;if((i=this.placeholders)===null||i===void 0?void 0:i.state)return this.placeholders.state;if(((e=this.address)===null||e===void 0?void 0:e.country)==="CA")return wp.i18n.__("Province","surecart");if(((s=this.address)===null||s===void 0?void 0:s.country)==="US")return wp.i18n.__("State","surecart");return wp.i18n.__("Province/Region","surecart")}render(){var i,e,t,o,n;return s("div",{key:"1c025a6f2279e5c4c069c55ba7c9605e02a04ca3",class:"sc-address",part:"base"},s("sc-form-control",{key:"485e8d29f646c6954c840124f98ddf4c9109d9e1",exportparts:"label, help-text, form-control",label:this.label,class:"sc-address__control",part:"control",required:this.required},s("sc-select",{key:"404c62d2e9096485d28acd79bf61f45a8209c009",exportparts:"base:select__base, input, form-control, label, help-text, trigger, panel, caret, search__base, search__input, search__form-control, menu__base, spinner__base, empty",value:(i=this.address)===null||i===void 0?void 0:i.country,onScChange:i=>{this.clearAddress();this.updateAddress({country:i.target.value||null})},choices:this.countryChoices,autocomplete:"country-name",placeholder:((e=this.placeholders)===null||e===void 0?void 0:e.country)||wp.i18n.__("Select Your Country","surecart"),name:this.names.country,search:true,unselect:false,"squared-bottom":this.showState||this.showPostal,required:this.required}),s("div",{key:"b718ea03abca2e3e4f48916df4c8cb928848439d",class:"sc-address__columns"},this.showState&&s("sc-select",{key:"fd3d62387349a5adaffe8a112b539352e48a59ce",exportparts:"base:select__base, input, form-control, label, help-text, trigger, panel, caret, search__base, search__input, search__form-control, menu__base, spinner__base, empty",placeholder:this.getStatePlaceholder(),name:this.names.state,autocomplete:"address-level1",value:(t=this===null||this===void 0?void 0:this.address)===null||t===void 0?void 0:t.state,onScChange:i=>this.updateAddress({state:i.target.value||null}),choices:this.regions,required:this.required,search:true,"squared-top":true,unselect:false,"squared-right":this.showPostal}),this.showPostal&&s("sc-input",{key:"2970292940b4485200f7ef87176cdebe5732dc89",exportparts:"base:input__base, input, form-control, label, help-text",placeholder:((o=this.placeholders)===null||o===void 0?void 0:o.postal_code)||wp.i18n.__("Postal Code/Zip","surecart"),name:this.names.postal_code,onScChange:i=>this.updateAddress({postal_code:i.target.value||null}),onScInput:i=>this.handleAddressInput({name:i.target.value||null}),autocomplete:"postal-code",required:this.required,value:(n=this===null||this===void 0?void 0:this.address)===null||n===void 0?void 0:n.postal_code,"squared-top":true,maxlength:5,"squared-left":this.showState}))),this.loading&&s("sc-block-ui",{key:"0694f199bd3f24b6fa6d7ceee752e3f1c58f40a2",exportparts:"base:block-ui, content:block-ui__content"}))}get el(){return t(this)}static get watchers(){return{address:["handleAddressChange"]}}};I.style=O;const T=":host{display:block}::slotted(*){margin:4px 0 !important}::slotted(sc-divider){margin:16px 0 !important}";const R=T;const F=class{constructor(e){i(this,e)}render(){var i;return s(o,{key:"829f6d656bf4afe04e3c90c6fbc7f26d3db6f2be",style:{...!((i=c===null||c===void 0?void 0:c.checkout)===null||i===void 0?void 0:i.invoice)?{display:"none"}:{}}},s("div",{key:"cb94d94d7317e603f03eca74cc6ce1fc66182d5d",class:"invoice-details"},s("slot",{key:"08ea2b0d9a281f66b992f8def0f28e13818e35f0"})))}};F.style=R;const V=":host{display:block}.invoice-memo{font-size:var(--sc-font-size-small);line-height:var(--sc-line-height-dense);color:var(--sc-input-label-color);display:grid;gap:5px}.invoice-memo__content{text-align:left;color:var(--sc-input-help-text-color)}";const E=V;const N=class{constructor(e){i(this,e);this.text=undefined}render(){var i;const e=c===null||c===void 0?void 0:c.checkout;const t=((i=e===null||e===void 0?void 0:e.invoice)===null||i===void 0?void 0:i.memo)||null;if(!t){return null}if(h()&&!(e===null||e===void 0?void 0:e.invoice)){return s("div",null,s("sc-skeleton",{style:{width:"100px"}}),s("sc-skeleton",{style:{width:"200px"}}))}return s("div",{class:"invoice-memo"},s("div",{class:"invoice-memo__title"},this.text||wp.i18n.__("Memo","surecart")),s("div",{class:"invoice-memo__content"},t))}};N.style=E;const P=":host{display:block}sc-line-item{text-align:left;line-height:var(--sc-line-height-dense);color:var(--sc-input-label-color)}";const B=P;const M=class{constructor(e){i(this,e)}render(){var i;const e=c===null||c===void 0?void 0:c.checkout;const t=((i=e===null||e===void 0?void 0:e.invoice)===null||i===void 0?void 0:i.due_date_date)||null;if(!t){return null}if(h()&&!(e===null||e===void 0?void 0:e.invoice)){return s("sc-line-item",null,s("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),s("sc-skeleton",{slot:"price",style:{width:"50px",display:"inline-block","--border-radius":"6px"}}))}return s("sc-line-item",null,s("span",{slot:"description"},s("slot",{name:"title"},wp.i18n.__("Due Date","surecart"))),s("span",{slot:"price-description"},t))}};M.style=B;const $=":host{display:block}sc-line-item{text-align:left;line-height:var(--sc-line-height-dense);color:var(--sc-input-label-color)}";const J=$;const U=class{constructor(e){i(this,e)}render(){var i;const e=c===null||c===void 0?void 0:c.checkout;const t=((i=e===null||e===void 0?void 0:e.invoice)===null||i===void 0?void 0:i.order_number)||null;if(!t){return null}if(h()&&!(e===null||e===void 0?void 0:e.invoice)){return s("sc-line-item",null,s("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),s("sc-skeleton",{slot:"price",style:{width:"50px",display:"inline-block","--border-radius":"6px"}}))}return s("sc-line-item",null,s("span",{slot:"description"},s("slot",{name:"title"},wp.i18n.__("Invoice Number","surecart"))),s("span",{slot:"price-description"},"#",t))}};U.style=J;const W=":host{display:block}sc-line-item{text-align:left;line-height:var(--sc-line-height-dense);color:var(--sc-input-label-color)}.sc-invoice-download-link{display:inline-flex;gap:var(--sc-spacing-x-small);text-decoration:none;color:inherit}";const Y=W;const H=class{constructor(e){i(this,e);this.checkout=undefined}render(){var i;const e=c===null||c===void 0?void 0:c.checkout;const t=((i=e===null||e===void 0?void 0:e.invoice)===null||i===void 0?void 0:i.id)?e===null||e===void 0?void 0:e.pdf_url:null;if(!t){return null}if(h()&&!(e===null||e===void 0?void 0:e.invoice)){return s("sc-line-item",null,s("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),s("sc-skeleton",{slot:"price",style:{width:"50px",display:"inline-block","--border-radius":"6px"}}))}return s("sc-line-item",null,s("span",{slot:"description"},s("slot",{name:"title"},wp.i18n.__("Receipt / Invoice","surecart"))),s("span",{slot:"price-description"},s("a",{class:"sc-invoice-download-link",href:t,target:"_blank",rel:"noopener noreferrer"},s("sc-icon",{name:"download"}),wp.i18n.__("Download","surecart"))))}};H.style=Y;const K=":host{display:block}";const G=K;const Z=class{constructor(e){i(this,e);this.label=undefined}render(){const{checkout:i}=c;if(!(i===null||i===void 0?void 0:i.selected_shipping_choice)){return s(o,{style:{display:"none"}})}if(b.formState.value==="loading"){return s("sc-line-item",null,s("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),s("sc-skeleton",{slot:"price",style:{width:"70px",display:"inline-block","--border-radius":"6px"}}))}return s("sc-line-item",null,s("span",{slot:"description"},this.label||wp.i18n.__("Shipping","surecart")),s("span",{slot:"price"},i===null||i===void 0?void 0:i.shipping_display_amount))}};Z.style=G;const Q=":host{display:block}";const X=Q;const ii=class{constructor(e){i(this,e);this.order=undefined;this.loading=undefined}renderLabel(){var i,e,t;let o=wp.i18n.sprintf(wp.i18n.__("Estimated %s","surecart"),((i=this===null||this===void 0?void 0:this.order)===null||i===void 0?void 0:i.tax_label)||"");if(((e=this===null||this===void 0?void 0:this.order)===null||e===void 0?void 0:e.tax_status)==="calculated"){o=((t=this.order)===null||t===void 0?void 0:t.tax_label)||""}return s(n,null,`${wp.i18n.__("Tax","surecart")} ${o}`)}render(){var i,e,t,o,n;if(!((i=this===null||this===void 0?void 0:this.order)===null||i===void 0?void 0:i.tax_amount)){return null}return s("sc-line-item",null,s("span",{slot:"description"},this.renderLabel()),((e=this.order)===null||e===void 0?void 0:e.tax_exclusive_amount)&&s("span",{slot:"price"},(t=this.order)===null||t===void 0?void 0:t.tax_exclusive_display_amount),((o=this.order)===null||o===void 0?void 0:o.tax_inclusive_amount)&&s("span",{slot:"price-description"},"(",(n=this.order)===null||n===void 0?void 0:n.tax_inclusive_display_amount,wp.i18n.__("included","surecart"),")"))}};f(ii,["order","loading"],false);ii.style=X;const ei=":host{display:block}";const si=ei;const ti=class{constructor(e){i(this,e);this.label=undefined}render(){var i,e;if(!((i=c===null||c===void 0?void 0:c.checkout)===null||i===void 0?void 0:i.trial_amount)){return s(o,{style:{display:"none"}})}return s("sc-line-item",null,s("span",{slot:"description"},this.label||wp.i18n.__("Trial","surecart")),s("span",{slot:"price-description"},(e=c===null||c===void 0?void 0:c.checkout)===null||e===void 0?void 0:e.trial_display_amount))}};ti.style=si;const oi=":host{display:block}.order-billing-address__toggle{margin-bottom:var(--sc-form-row-spacing, var(--sc-spacing-medium))}";const ni=oi;const ri=class{constructor(e){i(this,e);this.label=undefined;this.showName=undefined;this.namePlaceholder=wp.i18n.__("Name or Company Name","surecart");this.defaultCountry=undefined;this.toggleLabel=wp.i18n.__("Billing address is same as shipping","surecart");this.address={country:null,city:null,line_1:null,line_2:null,postal_code:null,state:null}}async reportValidity(){var i,e;if(!this.input)return true;return(e=(i=this.input)===null||i===void 0?void 0:i.reportValidity)===null||e===void 0?void 0:e.call(i)}prefillAddress(){var i;const e=Object.keys(this.address).filter((i=>i!=="country"));const s=e.filter((i=>!this.address[i]));if(s.length===e.length){this.address={...this.address,...(i=c.checkout)===null||i===void 0?void 0:i.billing_address}}}componentWillLoad(){var i;if(this.defaultCountry&&!((i=this.address)===null||i===void 0?void 0:i.country)){this.address.country=this.defaultCountry}this.prefillAddress();u("checkout",(()=>this.prefillAddress()))}async updateAddressState(i){var e,s;if(JSON.stringify(i)===JSON.stringify(this.address))return;this.address=i;try{m("billing-address");c.checkout=await w({id:(e=c===null||c===void 0?void 0:c.checkout)===null||e===void 0?void 0:e.id,data:{billing_matches_shipping:(s=c.checkout)===null||s===void 0?void 0:s.billing_matches_shipping,billing_address:this.address}})}catch(i){console.error(i)}finally{_("billing-address")}}async onToggleBillingMatchesShipping(i){c.checkout={...c.checkout,billing_matches_shipping:i.target.checked}}shippingAddressFieldExists(){return!!document.querySelector("sc-order-shipping-address")}render(){var i,e;return s(n,{key:"ac025fb50a179d589c2c96561305b92164fe7e51"},this.shippingAddressFieldExists()&&s("sc-checkbox",{key:"5bd206c5d00aebb934f2361c85bff8f3c8751884",class:"order-billing-address__toggle",onScChange:i=>this.onToggleBillingMatchesShipping(i),checked:(i=c.checkout)===null||i===void 0?void 0:i.billing_matches_shipping},this.toggleLabel),(!this.shippingAddressFieldExists()||!((e=c.checkout)===null||e===void 0?void 0:e.billing_matches_shipping))&&s("sc-address",{key:"857afdf76f5eba6febf77f7fe9453edc4b7146f7",exportparts:"label, help-text, form-control, input__base, select__base, columns, search__base, menu__base",ref:i=>{this.input=i},label:this.label||wp.i18n.__("Billing Address","surecart"),names:{name:"billing_name",country:"billing_country",city:"billing_city",line_1:"billing_line_1",line_2:"billing_line_2",postal_code:"billing_postal_code",state:"billing_state"},required:true,loading:v(),address:this.address,"show-name":this.showName,onScChangeAddress:i=>this.updateAddressState(i.detail)}))}};ri.style=ni;const li=":host {\n  display: block;\n}\n\n.bump {\n  display: grid;\n  gap: 1em;\n}\n.bump__text {\n  display: grid;\n  gap: 0.25em;\n}\n.bump__tag {\n  background: var(--sc-color-primary-500);\n  color: var(--sc-color-white);\n  border-radius: var(--sc-input-border-radius-medium);\n  padding: var(--sc-spacing-x-small);\n  font-size: var(--sc-font-size-x-small);\n}\n.bump__product {\n  display: flex;\n  align-items: center;\n  gap: var(--sc-choice-padding, 1.3em 1.1em);\n  line-height: var(--sc-line-height-dense);\n}\n.bump__product--wrapper {\n  container-type: inline-size;\n}\n@container (max-width: 325px) {\n  .bump__product {\n    flex-direction: column;\n    align-items: start;\n  }\n}\n.bump__product-title {\n  font-weight: var(--sc-font-weight-semibold);\n}\n.bump__product-description {\n  color: var(--sc-input-label-color);\n}\n.bump__image {\n  width: var(--sc-product-line-item-image-size, 4em);\n  height: var(--sc-product-line-item-image-size, 4em);\n  flex: 0 0 var(--sc-product-line-item-image-size, 4em);\n  object-fit: cover;\n  border-radius: 4px;\n  border: 1px solid var(--sc-color-gray-200);\n  display: block;\n  box-shadow: var(--sc-input-box-shadow);\n}\n.bump__price--has-discount {\n  display: flex;\n  align-items: baseline;\n  gap: var(--sc-spacing-x-small);\n}\n.bump__price--has-discount .bump__original-price {\n  text-decoration: line-through;\n  color: var(--sc-color-gray-500);\n  font-size: var(--sc-font-size-small);\n}\n.bump__price .bump__new-price {\n  font-size: var(--sc-font-size-large);\n  color: var(--sc-color-gray-700);\n}\n.bump__price .bump__interval {\n  color: var(--sc-color-gray-500);\n}\n.bump__amount {\n  display: flex;\n  align-items: center;\n  gap: var(--sc-spacing-x-small);\n  flex-wrap: wrap;\n  margin-top: var(--sc-spacing-xx-small);\n}";const ai=li;const di=class{constructor(e){i(this,e);this.bump=undefined;this.showControl=undefined}lineItem(){var i,e,s;return(s=(e=(i=c===null||c===void 0?void 0:c.checkout)===null||i===void 0?void 0:i.line_items)===null||e===void 0?void 0:e.data)===null||s===void 0?void 0:s.find((i=>{var e;return(i===null||i===void 0?void 0:i.bump)===((e=this.bump)===null||e===void 0?void 0:e.id)}))}updateLineItem(){var i,e,s,t;const o=((i=this.bump.price)===null||i===void 0?void 0:i.id)||((e=this.bump)===null||e===void 0?void 0:e.price);if(this.lineItem()){g((s=this.lineItem())===null||s===void 0?void 0:s.id);x(wp.i18n.__("Order bump Removed.","surecart"));return}y({bump:(t=this.bump)===null||t===void 0?void 0:t.id,price:o,quantity:1});x(wp.i18n.__("Order bump applied.","surecart"))}componentDidLoad(){var i;k((i=this.bump)===null||i===void 0?void 0:i.id)}newPrice(){var i,e,s,t,o,n;let r=null;let l=((e=(i=this.bump)===null||i===void 0?void 0:i.price)===null||e===void 0?void 0:e.amount)||0;if((s=this.bump)===null||s===void 0?void 0:s.amount_off){r=Math.max(0,l-((t=this.bump)===null||t===void 0?void 0:t.amount_off))}if((o=this.bump)===null||o===void 0?void 0:o.percent_off){const i=l*(((n=this.bump)===null||n===void 0?void 0:n.percent_off)/100);r=Math.max(0,l-i)}return r}renderInterval(){var i;const e=S((i=this.bump)===null||i===void 0?void 0:i.price,{labels:{interval:"/",period:wp.i18n.__("for","surecart")}});if(!e.trim().length)return null;return s("span",{class:"bump__interval"},e)}renderPrice(){var i,e,t,o,n,r,l,a,d;return s("div",{slot:"description",class:{bump__price:true,"bump__price--has-discount":!!((i=this.bump)===null||i===void 0?void 0:i.percent_off)||!!((e=this.bump)===null||e===void 0?void 0:e.amount_off)},part:"price"},!!(((t=this.bump)===null||t===void 0?void 0:t.percent_off)||((o=this.bump)===null||o===void 0?void 0:o.amount_off))&&s("span",{"aria-label":wp.i18n.sprintf(wp.i18n.__("Originally priced at %s.","surecart"),(n=this.bump)===null||n===void 0?void 0:n.subtotal_display_amount),class:"bump__original-price"},(r=this.bump)===null||r===void 0?void 0:r.subtotal_display_amount),s("span",null,s("span",{"aria-hidden":"true"},((l=this.bump)===null||l===void 0?void 0:l.total_amount)===0&&wp.i18n.__("Free","surecart"),((a=this.bump)===null||a===void 0?void 0:a.total_amount)>0&&s("span",{class:"bump__new-price"},(d=this.bump)===null||d===void 0?void 0:d.total_display_amount),this.renderInterval())))}renderDiscount(){var i,e,t,o,n,r,l;if(!!((i=this.bump)===null||i===void 0?void 0:i.amount_off)){return s("div",{class:"bump__tag","aria-label":wp.i18n.sprintf(wp.i18n.__("You save %1$s%2$s.","surecart"),(e=this.bump)===null||e===void 0?void 0:e.amount_off,((t=this.bump)===null||t===void 0?void 0:t.price).currency)},s("span",{"aria-hidden":"true"},wp.i18n._x("Save","Save money","surecart")," ",(o=this.bump)===null||o===void 0?void 0:o.amount_off_display_amount))}if(!!((n=this.bump)===null||n===void 0?void 0:n.percent_off)){return s("div",{class:"bump__tag","aria-label":wp.i18n.sprintf(wp.i18n.__("You save %s%%.","surecart"),(r=this.bump)===null||r===void 0?void 0:r.percent_off)},s("span",{"aria-hidden":"true"},wp.i18n.sprintf(wp.i18n._x("Save %s%%","Save money","surecart"),(l=this.bump)===null||l===void 0?void 0:l.percent_off)))}}render(){var i,e,t,o,n,r,l,a,d,c,u,p,h,v,b,f,m,_;const g=(e=(i=this.bump)===null||i===void 0?void 0:i.price)===null||e===void 0?void 0:e.product;return s("sc-choice",{key:"983d78c5de4e40b4d66f6e755e49000c3ba2e07f",value:(t=this.bump)===null||t===void 0?void 0:t.id,type:"checkbox",showControl:this.showControl,checked:!!this.lineItem(),onClick:i=>{i.preventDefault();i.stopImmediatePropagation();this.updateLineItem()},onKeyDown:i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault();i.stopImmediatePropagation();this.updateLineItem()}},exportparts:"base, control, checked-icon, title"},s("div",{key:"54a1819dbbfc23855d4a0920cd853973077fcb58",part:"base-content",class:"bump"},s("div",{key:"6261d9ede9267a35093f1271bcf48c98840cd605",class:"bump__text"},s("div",{key:"8eb1bd33b2592dc8358720b53ca3640bd03fd8b0",class:"bump__title","aria-label":wp.i18n.sprintf(wp.i18n.__("Product: %s.","surecart"),((n=(o=this.bump)===null||o===void 0?void 0:o.metadata)===null||n===void 0?void 0:n.cta)||((r=this.bump)===null||r===void 0?void 0:r.name)||(g===null||g===void 0?void 0:g.name))},s("span",{key:"fd3214f1fc3f0e0bdd909d92d96339cc2a1b86a4","aria-hidden":"true"},((a=(l=this.bump)===null||l===void 0?void 0:l.metadata)===null||a===void 0?void 0:a.cta)||((d=this.bump)===null||d===void 0?void 0:d.name)||(g===null||g===void 0?void 0:g.name))),s("div",{key:"ef1e4657efc6dc4755641de2154d49e405f4d484",class:"bump__amount"},this.renderPrice(),this.renderDiscount()))),((u=(c=this.bump)===null||c===void 0?void 0:c.metadata)===null||u===void 0?void 0:u.description)&&s("div",{key:"2e3a416ed1918562a4c1f49113cba05729b87ec3",slot:"footer",class:"bump__product--wrapper"},s("sc-divider",{key:"4d06a09e82fd1ecd41c01bdb048c5a76b0e33d69",style:{"--spacing":"var(--sc-spacing-medium)"}}),s("div",{key:"38c660a40700423b3f3a727f1db8f164a736daeb",class:"bump__product"},!!((p=g===null||g===void 0?void 0:g.line_item_image)===null||p===void 0?void 0:p.src)&&s("img",{key:"df9c423d1eceadc3e61bc3530ae79c8bbb44a684",...g===null||g===void 0?void 0:g.line_item_image,class:"bump__image"}),s("div",{key:"0698bdcb6b3029cdccb97c5e7dc356cd60d3dab9",class:"bump__product-text"},!!((v=(h=this.bump)===null||h===void 0?void 0:h.metadata)===null||v===void 0?void 0:v.cta)&&s("div",{key:"6f717ff6352c7fc1c48a4e29a934435bbb9406f1",class:"bump__product-title","aria-hidden":"true"},this.bump.name||(g===null||g===void 0?void 0:g.name)),!!((f=(b=this.bump)===null||b===void 0?void 0:b.metadata)===null||f===void 0?void 0:f.description)&&s("div",{key:"4747ed4352a726279216fe07b174fd446b69b165",class:"bump__product-description","aria-label":wp.i18n.sprintf(wp.i18n.__("Product description: %s.","surecart"),(m=this.bump)===null||m===void 0?void 0:m.rendered_description)},s("span",{key:"f863722bbe36276c26bc2da9f0381f8917f800f6","aria-hidden":"true",innerHTML:(_=this.bump)===null||_===void 0?void 0:_.rendered_description}))))))}};di.style=ai;const ci=":host{display:block}.bumps__list{display:grid;gap:10px}";const ui=ci;const pi=class{constructor(e){i(this,e);this.label=undefined;this.showControl=undefined;this.help=undefined}render(){var i,e;const t=(((e=(i=c===null||c===void 0?void 0:c.checkout)===null||i===void 0?void 0:i.recommended_bumps)===null||e===void 0?void 0:e.data)||[]).filter((i=>{var e,s,t,o;return((o=(t=(s=(e=i===null||i===void 0?void 0:i.price)===null||e===void 0?void 0:e.product)===null||s===void 0?void 0:s.variants)===null||t===void 0?void 0:t.pagination)===null||o===void 0?void 0:o.count)===0}));if(!(t===null||t===void 0?void 0:t.length)){return null}return s("sc-form-control",{label:this.label||wp.i18n.__("Recommended","surecart"),help:this.help},s("div",{class:"bumps__list","aria-label":wp.i18n.__("Order bump summary","surecart")},t.map((i=>s("sc-order-bump",{key:i===null||i===void 0?void 0:i.id,showControl:this.showControl,bump:i})))))}};pi.style=ui;const hi=":host{display:block}.sc-order-shipping__loading{display:flex;flex-direction:column;gap:0.5em}";const vi=hi;const bi=class{constructor(e){i(this,e);this.names={name:"shipping_name",country:"shipping_country",city:"shipping_city",line_1:"shipping_line_1",line_2:"shipping_line_2",postal_code:"shipping_postal_code",state:"shipping_state"};this.label=undefined;this.required=false;this.full=undefined;this.showName=undefined;this.defaultCountry=undefined;this.showLine2=undefined;this.requireName=false;this.address={country:null,city:null,line_1:null,line_2:null,postal_code:null,state:null}}async updateAddressState(i){var e;if(JSON.stringify(i)===JSON.stringify(this.address))return;this.address=i;try{m("shipping-address");c.checkout=await w({id:(e=c.checkout)===null||e===void 0?void 0:e.id,data:{shipping_address:this.address}})}catch(i){console.error(i)}finally{_("shipping-address")}}async reportValidity(){var i,e;if(!this.input)return true;return(e=(i=this.input)===null||i===void 0?void 0:i.reportValidity)===null||e===void 0?void 0:e.call(i)}prefillAddress(){var i;const e=Object.keys(this.address).filter((i=>i!=="country"));const s=e.filter((i=>!this.address[i]));if(s.length===e.length){this.address={...this.address,...(i=c.checkout)===null||i===void 0?void 0:i.shipping_address}}}componentWillLoad(){var i;if(this.defaultCountry&&!((i=this.address)===null||i===void 0?void 0:i.country)){this.address.country=this.defaultCountry}this.prefillAddress();u("checkout",(()=>this.prefillAddress()))}render(){if(j()||this.full||this.requireName||this.showName){return s("sc-address",{exportparts:"label, help-text, form-control, input__base, select__base, columns, search__base, menu__base",ref:i=>this.input=i,label:this.label||wp.i18n.__("Shipping Address","surecart"),names:this.names,required:this.required||A(),loading:v(),address:this.address,"show-name":this.showName,"require-name":this.requireName,"show-line-2":this.showLine2,onScChangeAddress:i=>this.updateAddressState(i.detail)})}return s("sc-compact-address",{ref:i=>this.input=i,required:this.required||A(),loading:v(),address:this.address,names:this.names,label:this.label,onScChangeAddress:i=>this.updateAddressState(i.detail)})}};bi.style=vi;const fi=":host{display:block}";const mi=fi;const _i=class{constructor(e){i(this,e);this.show=false;this.otherLabel=undefined;this.caGstLabel=undefined;this.auAbnLabel=undefined;this.gbVatLabel=undefined;this.euVatLabel=undefined;this.helpText=undefined;this.taxIdTypes=undefined;this.taxIdTypesData=[]}handleTaxIdTypesChange(){this.taxIdTypesData=typeof this.taxIdTypes==="string"?JSON.parse(this.taxIdTypes):this.taxIdTypes}async reportValidity(){return this.input.reportValidity()}getStatus(){var i,e,s,t,o;if(((e=(i=c.checkout)===null||i===void 0?void 0:i.tax_identifier)===null||e===void 0?void 0:e.number_type)!=="eu_vat"){return"unknown"}if(((s=c.taxProtocol)===null||s===void 0?void 0:s.eu_vat_unverified_behavior)==="apply_reverse_charge"){return"unknown"}return((o=(t=c.checkout)===null||t===void 0?void 0:t.tax_identifier)===null||o===void 0?void 0:o.eu_vat_verified)?"valid":"invalid"}async updateOrder(i){try{p("FETCH");c.checkout=await w({id:c.checkout.id,data:{tax_identifier:i}});p("RESOLVE")}catch(i){console.error(i);q(i);p("REJECT")}}componentWillLoad(){this.handleTaxIdTypesChange()}required(){var i,e,s;return((i=c.taxProtocol)===null||i===void 0?void 0:i.eu_vat_required)&&((s=(e=c.checkout)===null||e===void 0?void 0:e.tax_identifier)===null||s===void 0?void 0:s.number_type)==="eu_vat"}render(){var i,e,t,o,n,r,l;return s("sc-tax-id-input",{key:"1b9da696ae1c015317ec9f9075035811291d936d",ref:i=>this.input=i,show:this.show,number:(e=(i=c.checkout)===null||i===void 0?void 0:i.tax_identifier)===null||e===void 0?void 0:e.number,type:((o=(t=c.checkout)===null||t===void 0?void 0:t.tax_identifier)===null||o===void 0?void 0:o.number_type)||((n=this.taxIdTypesData)===null||n===void 0?void 0:n[0])||"eu_vat",country:(l=(r=c.checkout)===null||r===void 0?void 0:r.shipping_address)===null||l===void 0?void 0:l.country,status:this.getStatus(),loading:h(),onScChange:i=>{i.stopImmediatePropagation();this.updateOrder(i.detail)},otherLabel:this.otherLabel,caGstLabel:this.caGstLabel,auAbnLabel:this.auAbnLabel,gbVatLabel:this.gbVatLabel,euVatLabel:this.euVatLabel,help:this.helpText,taxIdTypes:this.taxIdTypesData,required:this.required()})}static get watchers(){return{taxIdTypes:["handleTaxIdTypesChange"]}}};_i.style=mi;const gi=":host{display:inline-block}::slotted([slot=description]){display:block;color:var(--sc-radio-description-color, var(--sc-input-help-text-color, var(--sc-color-gray-500)));line-height:var(--sc-line-height-dense);margin:0.5em 0 0;font-size:var(--sc-font-size-small)}.radio{display:inline-flex;align-items:flex-start;font-family:var(--sc-input-font-family);font-size:var(--sc-input-font-size-medium);font-weight:var(--sc-input-font-weight);color:var(--sc-input-color);vertical-align:middle;gap:var(--sc-spacing-xx-small)}.radio:not(.radio--editing){cursor:pointer}.radio__icon{display:inline-flex;width:var(--sc-radio-size);height:var(--sc-radio-size)}.radio__icon svg{width:100%;height:100%}.radio__control{flex:0 0 auto;position:relative;display:inline-flex;align-items:center;justify-content:center;width:var(--sc-radio-size);height:var(--sc-radio-size);border:solid var(--sc-input-border-width) var(--sc-input-border-color);border-radius:50%;background-color:var(--sc-input-background-color);color:transparent;transition:var(--sc-input-transition, var(--sc-transition-medium)) border-color, var(--sc-input-transition, var(--sc-transition-medium)) opacity, var(--sc-input-transition, var(--sc-transition-medium)) background-color, var(--sc-input-transition, var(--sc-transition-medium)) color, var(--sc-input-transition, var(--sc-transition-medium)) box-shadow}.radio__control input[type=radio]{position:absolute;opacity:0;padding:0;margin:0;pointer-events:none}.radio:not(.radio--checked):not(.radio--disabled) .radio__control:hover{border-color:var(--sc-input-border-color-hover);background-color:var(--sc-input-background-color-hover)}.radio.radio--focused:not(.radio--checked):not(.radio--disabled) .radio__control{border-color:var(--sc-input-border-color-focus);background-color:var(--sc-input-background-color-focus);box-shadow:0 0 0 var(--sc-focus-ring-width) var(--sc-focus-ring-color-primary)}.radio--checked .radio__control{color:var(--var-sc-checked-radio-background-color, var(--sc-input-background-color));border-color:var(--sc-color-primary-500);background-color:var(--sc-color-primary-500)}.radio.radio--checked:not(.radio--disabled) .radio__control:hover{opacity:0.8}.radio.radio--checked:not(.radio--disabled).radio--focused .radio__control{border-color:var(--var-sc-checked-radio-border-color, var(--sc-input-background-color));background-color:var(--sc-color-primary-500);box-shadow:0 0 0 var(--sc-focus-ring-width) var(--sc-focus-ring-color-primary)}.radio--disabled{opacity:0.5;cursor:not-allowed}.radio:not(.radio--checked) svg circle{opacity:0}.radio__label{line-height:var(--sc-radio-size);margin-left:0.5em;user-select:none}";const yi=gi;let ki=0;const wi=class{constructor(s){i(this,s);this.scBlur=e(this,"scBlur",7);this.scChange=e(this,"scChange",7);this.scFocus=e(this,"scFocus",7);this.inputId=`radio-${++ki}`;this.labelId=`radio-label-${ki}`;this.hasFocus=false;this.name=undefined;this.value=undefined;this.disabled=false;this.checked=false;this.required=false;this.invalid=false;this.edit=undefined}async ceClick(){this.input.click()}async reportValidity(){this.invalid=!this.input.checkValidity();return this.input.reportValidity()}handleCheckedChange(){if(!this.input)return;if(this.checked){this.getSiblingRadios().map((i=>i.checked=false))}this.input.checked=this.checked;this.scChange.emit()}handleClick(){this.checked=true}handleBlur(){this.hasFocus=false;this.scBlur.emit()}handleFocus(){this.hasFocus=true;this.scFocus.emit()}setCustomValidity(i){this.input.setCustomValidity(i);this.invalid=!this.input.checkValidity()}getAllRadios(){const i=this.el.closest("sc-radio-group");if(!i){return[]}return[...i.querySelectorAll("sc-radio")]}getSiblingRadios(){return this.getAllRadios().filter((i=>i!==this.el))}handleKeyDown(i){if(this.edit)return true;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(i.key)){const e=this.getAllRadios().filter((i=>!i.disabled));const s=["ArrowUp","ArrowLeft"].includes(i.key)?-1:1;let t=e.indexOf(this.el)+s;if(t<0)t=e.length-1;if(t>e.length-1)t=0;this.getAllRadios().map((i=>i.checked=false));e[t].focus();e[t].checked=true;i.preventDefault()}}handleMouseDown(i){if(this.edit)return true;i.preventDefault();this.input.focus()}componentDidLoad(){this.formController=new d(this.el,{value:i=>i.checked?i.value:undefined}).addFormData()}disconnectedCallback(){var i;(i=this.formController)===null||i===void 0?void 0:i.removeFormData()}render(){const i=this.edit?"div":"label";return s(i,{key:"6d9fbebc4d1f8f411e5d38132257839321cec89f",part:"base",class:{radio:true,"radio--checked":this.checked,"radio--disabled":this.disabled,"radio--focused":this.hasFocus,"radio--editing":this.edit},htmlFor:this.inputId,onKeyDown:i=>this.handleKeyDown(i),onMouseDown:i=>this.handleMouseDown(i)},s("span",{key:"c3a44da6d6cb1d64bb3fe2da3612d64673fa51fd",part:"control",class:"radio__control"},s("span",{key:"d1020885bfc75cc66e515635f4ba92cd401ffc43",part:"checked-icon",class:"radio__icon"},s("svg",{key:"884b3aafc82a37c1bd1639a5860554d41dbde6a1",viewBox:"0 0 16 16"},s("g",{key:"a0a8b589612a8f660c6f6fe1f200d16b45d1d824",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},s("g",{key:"b07f3cab6d19acf9e0ed6f052425913ead813218",fill:"currentColor"},s("circle",{key:"1285f4072c59a95724ffdf407f4222bab61b55fd",cx:"8",cy:"8",r:"3.42857143"}))))),s("input",{key:"b41108222732c19d863807d02b3894d3b0019b19",id:this.inputId,ref:i=>this.input=i,type:"radio",name:this.name,value:this.value,checked:this.checked,disabled:this.disabled,required:this.required,"aria-checked":this.checked?"true":"false","aria-disabled":this.disabled?"true":"false","aria-labelledby":this.labelId,onClick:()=>this.handleClick(),onBlur:()=>this.handleBlur(),onFocus:()=>this.handleFocus()})),s("span",{key:"1cc0fe0c2dccfb419d4d8274e583fc7d7d59bd44",part:"label",id:this.labelId,class:"radio__label"},s("slot",{key:"b090257652dce8d306d9b389279daccd935b4ab3"}),s("slot",{key:"d75b5c1043cffc7eac6d185b291d35dd4a0df679",name:"description"})))}get el(){return t(this)}static get watchers(){return{checked:["handleCheckedChange"]}}};wi.style=yi;const xi=':host{display:block}.radio-group{border:none;padding:0;margin:0;min-width:0}.radio-group .radio-group__label{display:inline-block;padding:0;color:var(--sc-input-label-color);font-weight:var(--sc-input-label-font-weight);text-transform:var(--sc-input-label-text-transform, none);letter-spacing:var(--sc-input-label-letter-spacing, 0);margin-bottom:var(--sc-input-label-margin)}.radio-group__hidden-input{position:absolute;opacity:0;padding:0px;margin:0px;pointer-events:none}.radio-group--is-required .radio-group__label:after{content:" *";color:var(--sc-color-danger-500)}::slotted(sc-radio:not(:last-of-type)){display:block;margin-bottom:var(--sc-spacing-x-small)}.radio-group--is-rtl.radio-group,.radio-group--is-rtl.radio-group .radio-group__label{text-align:right}';const Si=xi;const Ci=class{constructor(s){i(this,s);this.scChange=e(this,"scChange",7);this.label="";this.invalid=undefined;this.value="";this.required=undefined}async reportValidity(){this.invalid=!this.input.checkValidity();return this.input.reportValidity()}handleRadioClick(i){if(i.target.tagName!=="SC-RADIO")return;i.stopImmediatePropagation();const e=i.target;if(e.disabled){return}if(e.checked){this.value=e.value;this.scChange.emit(e.value)}}componentDidLoad(){const i=[...this.el.querySelectorAll("sc-radio")];i.forEach((i=>{if(i.checked){this.value=i.value}}))}render(){return s("fieldset",{key:"198bb8228c63fcb964e857c8b2332ae0f4174e29",part:"base",class:{"radio-group":true,"radio-group--invalid":this.invalid,"radio-group--is-required":this.required,"radio-group--is-rtl":L()},"aria-invalid":this.invalid,role:"radiogroup"},s("legend",{key:"42221d8cd5b3e9868eec9fa02598e7d5fb759cf2",part:"label",class:"radio-group__label"},s("slot",{key:"48fa58053def1fd2ae396c307cf74e0cae6abe50",name:"label"},this.label)),s("input",{key:"7e455b247f5620f7881da2296e601119a01eafe3",type:"text",class:"radio-group__hidden-input",ref:i=>this.input=i,required:this.required,value:this.value,tabindex:"-1"}),s("div",{key:"44e6618e1cdb006c058dddde26afb8bfa1fba4e8",part:"items",class:"radio-group__items"},s("slot",{key:"03abbcbd134035a308cfd7b202b29aee7ec86179"})))}get el(){return t(this)}};Ci.style=Si;const ji=":host{display:block}.shipping-choice{width:100%;padding:var(--sc-spacing-medium);margin:0;box-sizing:border-box;border-bottom:var(--sc-input-border, 1px solid var(--sc-color-gray-300));background-color:var(--sc-shipping-choice-background-color, var(--sc-input-background-color))}.shipping-choice__empty{background:var(--sc-alert-background-color, var(--sc-color-gray-100));opacity:0.75;padding:var(--sc-spacing-large);border-radius:var(--sc-input-border-radius-medium);line-height:var(--sc-line-height-dense);font-size:var(--sc-font-size-small);border:solid 1px var(--sc-input-border-color, var(--sc-input-border))}.shipping-choice:last-child{border-bottom-width:0}.shipping-choice__text{display:flex;flex-direction:column;gap:var(--sc-spacing-xx-small)}.shipping-choice__price{color:var(--sc-input-label-color);font-weight:var(--sc-price-choice-price-font-weight, var(--sc-font-weight-normal));white-space:nowrap;display:var(--sc-shipping-choice-price-display, inherit)}.shipping-choice__name{display:inline-block;color:var(--sc-price-choice-name-color, var(--sc-input-label-color));font-size:var(--sc-price-choice-name-size, var(--sc-input-label-font-size-medium));font-weight:var(--sc-price-choice-name-font-weight, var(--sc-font-weight-bold));text-transform:var(--sc-price-choice-text-transform, var(--sc-input-label-text-transform, none));line-height:var(--sc-shipping-name-line-height, 1)}.shipping-choice__description{color:var(--sc-input-label-color);font-weight:var(--sc-price-choice-price-font-weight, var(--sc-font-weight-normal));line-height:var(--sc-shipping-description-line-height, 1.2)}sc-radio-group::part(items){border:var(--sc-input-border, 1px solid var(--sc-color-gray-300));border-radius:var(--sc-shipping-choice-border-radius, var(--sc-input-border-radius-medium));box-shadow:var(--sc-shipping-box-shadow, var(--sc-input-box-shadow));overflow:hidden;position:relative}sc-radio::part(base){width:100%}sc-radio::part(label){width:100%;display:flex;justify-content:space-between;gap:var(--sc-spacing-small)}sc-radio-group::slotted(sc-radio:not(:last-of-type)){margin-bottom:0}";const Ai=ji;const zi=class{constructor(e){i(this,e);this.label=undefined;this.showDescription=true}async updateCheckout(i){if(!i)return;try{m("selected_shipping_choice");c.checkout=await w({id:c.checkout.id,data:{selected_shipping_choice_id:i}});x(wp.i18n.__("Shipping choice updated.","surecart"),"assertive");const{total_amount:e,currency:s}=c.checkout;x(wp.i18n.sprintf(wp.i18n.__("Your order total has changed to: %1$s.","surecart"),C({amount:e,currency:s})),"assertive")}catch(i){console.error(i);q(i)}finally{_("selected_shipping_choice")}}render(){var i,e,t,n,r,l,a,d,u,p,h;if(!((i=c===null||c===void 0?void 0:c.checkout)===null||i===void 0?void 0:i.selected_shipping_choice_required)){return s(o,{style:{display:"none"}})}if(!((n=(t=(e=c===null||c===void 0?void 0:c.checkout)===null||e===void 0?void 0:e.shipping_choices)===null||t===void 0?void 0:t.data)===null||n===void 0?void 0:n.length)&&!((l=(r=c===null||c===void 0?void 0:c.checkout)===null||r===void 0?void 0:r.shipping_address)===null||l===void 0?void 0:l.country)){return s("sc-form-control",{label:this.label||wp.i18n.__("Shipping","surecart")},s("div",{class:"shipping-choice__empty"},wp.i18n.__("To check available shipping choices, please provide your shipping country in the address section.","surecart")))}if(!((u=(d=(a=c===null||c===void 0?void 0:c.checkout)===null||a===void 0?void 0:a.shipping_choices)===null||d===void 0?void 0:d.data)===null||u===void 0?void 0:u.length)){return s("sc-form-control",{part:"empty",label:this.label||wp.i18n.__("Shipping","surecart")},s("div",{class:"shipping-choice__empty"},wp.i18n.__("Sorry, we are not able to ship to your address.","surecart")))}return s(o,null,s("sc-radio-group",{part:"base",label:this.label||wp.i18n.__("Shipping","surecart"),class:"shipping-choices",onScChange:i=>this.updateCheckout(i.detail)},(((h=(p=c===null||c===void 0?void 0:c.checkout)===null||p===void 0?void 0:p.shipping_choices)===null||h===void 0?void 0:h.data)||[]).map((({id:i,display_amount:e,shipping_method:t})=>{var o;return s("sc-radio",{key:i,checked:((o=c===null||c===void 0?void 0:c.checkout)===null||o===void 0?void 0:o.selected_shipping_choice)===i,exportparts:"base:radio__base,label:radio__label,control:radio__control,checked-icon:radio__checked-icon",class:"shipping-choice",value:i},s("div",{class:"shipping-choice__text"},s("div",{class:"shipping-choice__name"},(t===null||t===void 0?void 0:t.name)||wp.i18n.__("Standard Shipping","surecart")),this.showDescription&&!!(t===null||t===void 0?void 0:t.description)&&s("div",{class:"shipping-choice__description"},t===null||t===void 0?void 0:t.description)),s("div",{class:"shipping-choice__price"},!!e?e:wp.i18n.__("Free","surecart")))}))),z("selected_shipping_choice")&&s("sc-block-ui",null))}};zi.style=Ai;export{I as sc_compact_address,F as sc_invoice_details,N as sc_invoice_memo,M as sc_line_item_invoice_due_date,U as sc_line_item_invoice_number,H as sc_line_item_invoice_receipt_download,Z as sc_line_item_shipping,ii as sc_line_item_tax,ti as sc_line_item_trial,ri as sc_order_billing_address,di as sc_order_bump,pi as sc_order_bumps,bi as sc_order_shipping_address,_i as sc_order_tax_id_input,wi as sc_radio,Ci as sc_radio_group,zi as sc_shipping_choices};
//# sourceMappingURL=p-ce8e6710.entry.js.map