import{r as i,h as t,F as l}from"./p-e97fde0a.js";import{f as s}from"./p-ff10bfbf.js";import{s as o}from"./p-53e7f7d7.js";import"./p-95325ec5.js";import"./p-03631502.js";import"./p-9dbc54d6.js";import"./p-d3366af3.js";import"./p-401e165e.js";import"./p-830ab1a3.js";import"./p-ec182234.js";import"./p-3f6362a4.js";import"./p-4df6e0c5.js";const n=":host{display:block}sc-line-item{text-align:left}.line-item-total__group sc-line-item{margin:4px 0px !important}.scratch-price{text-decoration:line-through;color:var(--sc-color-gray-500);font-size:var(--sc-font-size-small);margin-right:var(--sc-spacing-xx-small)}sc-line-item::part(base){grid-template-columns:max-content auto auto}.total-price{white-space:nowrap}.currency-label{color:var(--sc-color-gray-500);font-size:var(--sc-font-size-xx-small);margin-right:var(--sc-spacing-xx-small);vertical-align:middle}sc-divider{margin:16px 0 !important}.conversion-description{color:var(--sc-color-gray-500);font-size:var(--sc-font-size-small);margin-right:var(--sc-spacing-xx-small)}";const e=n;const r=class{constructor(t){i(this,t);this.order_key={total:"total_amount",subtotal:"subtotal_amount",amount_due:"amount_due"};this.total="total";this.size=undefined;this.checkout=undefined}hasInstallmentPlan(i){return(i===null||i===void 0?void 0:i.full_amount)!==(i===null||i===void 0?void 0:i.subtotal_amount)}hasSubscription(i){var t;return(((t=i===null||i===void 0?void 0:i.line_items)===null||t===void 0?void 0:t.data)||[]).some((i=>{var t,l,s;return((t=i===null||i===void 0?void 0:i.price)===null||t===void 0?void 0:t.recurring_interval)==="month"&&!!((l=i===null||i===void 0?void 0:i.price)===null||l===void 0?void 0:l.recurring_interval)&&!((s=i===null||i===void 0?void 0:i.price)===null||s===void 0?void 0:s.recurring_period_count)}))}renderLineItemTitle(i){if(this.total==="total"&&this.hasInstallmentPlan(i)){return t("span",{slot:"title"},t("slot",{name:"first-payment-total-description"},wp.i18n.__("Subtotal","surecart")))}return t("span",{slot:"title"},t("slot",{name:"title"}))}renderLineItemDescription(i){if(this.total==="subtotal"&&this.hasInstallmentPlan(i)){return t("span",{slot:"description"},t("slot",{name:"first-payment-subtotal-description"},wp.i18n.__("Initial Payment","surecart")))}return t("span",{slot:"description"},t("slot",{name:"description"}))}getCurrencyToDisplay(){var i,t,l,s;const n=this.checkout||(o===null||o===void 0?void 0:o.checkout);return((t=(i=n===null||n===void 0?void 0:n.amount_due_default_currency_display_amount)===null||i===void 0?void 0:i.toLowerCase())===null||t===void 0?void 0:t.includes((l=n===null||n===void 0?void 0:n.currency)===null||l===void 0?void 0:l.toLowerCase()))?"":(s=n===null||n===void 0?void 0:n.currency)===null||s===void 0?void 0:s.toUpperCase()}renderConversion(){var i;if(this.total!=="total"){return null}const s=this.checkout||(o===null||o===void 0?void 0:o.checkout);if(!(s===null||s===void 0?void 0:s.show_converted_total)){return null}if((s===null||s===void 0?void 0:s.currency)===(s===null||s===void 0?void 0:s.current_currency)){return null}if(!(s===null||s===void 0?void 0:s.amount_due)){return null}return t(l,null,t("sc-divider",null),t("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},t("span",{slot:"title"},t("slot",{name:"charge-amount-description"},wp.i18n.__("Payment Total","surecart"))),t("span",{slot:"price"},this.getCurrencyToDisplay()&&t("span",{class:"currency-label"},this.getCurrencyToDisplay()),s===null||s===void 0?void 0:s.amount_due_default_currency_display_amount)),t("sc-line-item",null,t("span",{slot:"description",class:"conversion-description"},wp.i18n.sprintf(wp.i18n.__("Your payment will be processed in %s.","surecart"),(i=s===null||s===void 0?void 0:s.currency)===null||i===void 0?void 0:i.toUpperCase()))))}render(){var i;const n=this.checkout||(o===null||o===void 0?void 0:o.checkout);if(s()&&!(n===null||n===void 0?void 0:n[(i=this===null||this===void 0?void 0:this.order_key)===null||i===void 0?void 0:i[this===null||this===void 0?void 0:this.total]])){return t("sc-line-item",null,t("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),t("sc-skeleton",{slot:"price",style:{width:"70px",display:"inline-block",height:this.size==="large"?"40px":"","--border-radius":"6px"}}))}if(!(n===null||n===void 0?void 0:n.currency))return;if(this.total==="total"&&(n===null||n===void 0?void 0:n.total_amount)!==(n===null||n===void 0?void 0:n.amount_due)){return t("div",{class:"line-item-total__group"},t("sc-line-item",null,t("span",{slot:"description"},this.hasInstallmentPlan(n)?this.renderLineItemTitle(n):t(l,null,t("slot",{name:"title"}),t("slot",{name:"description"}))),t("span",{slot:"price"},t("sc-total",{total:this.total,checkout:n}))),!!n.trial_amount&&t("sc-line-item",null,t("span",{slot:"description"},t("slot",{name:"free-trial-description"},wp.i18n.__("Trial","surecart"))),t("span",{slot:"price"},n===null||n===void 0?void 0:n.trial_display_amount)),t("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},this.hasSubscription(n)?t("span",{slot:"title"},t("slot",{name:"subscription-title"},wp.i18n.__("Total Due Today","surecart"))):t("span",{slot:"title"},t("slot",{name:"due-amount-description"},wp.i18n.__("Amount Due","surecart"))),t("span",{slot:"price"},n===null||n===void 0?void 0:n.amount_due_display_amount)),this.renderConversion())}return t(l,null,this.total==="subtotal"&&this.hasInstallmentPlan(n)&&t("sc-line-item",{style:this.size==="large"?{"--price-size":"var(--sc-font-size-x-large)"}:{}},t("span",{slot:"description"},t("slot",{name:"total-payments-description"},wp.i18n.__("Total Installment Payments","surecart"))),t("span",{slot:"price"},n===null||n===void 0?void 0:n.full_display_amount)),t("sc-line-item",{style:this.size==="large"?{"--price-size":"var(--sc-font-size-x-large)"}:{}},this.renderLineItemTitle(n),this.renderLineItemDescription(n),t("span",{slot:"price"},!!(n===null||n===void 0?void 0:n.total_savings_amount)&&this.total==="total"&&t("span",{class:"scratch-price"},n===null||n===void 0?void 0:n.total_scratch_display_amount),t("sc-total",{class:"total-price",total:this.total,checkout:n}))),this.renderConversion())}};r.style=e;export{r as sc_line_item_total};
//# sourceMappingURL=p-953efa31.entry.js.map