import{r as i,h as e}from"./p-e97fde0a.js";import{g as t}from"./p-93127aa7.js";import{a}from"./p-401e165e.js";const o=":host{display:block}.sc-product-variation-choice-wrap{display:flex;flex-direction:column;gap:var(--sc-variation-gap, 12px)}";const s=o;const n=class{constructor(e){i(this,e);this.heading=undefined;this.product=undefined;this.price=undefined;this.subscription=undefined;this.busy=false;this.variantValues=[];this.handleSubmit=this.handleSubmit.bind(this)}componentWillLoad(){var i;this.variantValues=(i=this.subscription)===null||i===void 0?void 0:i.variant_options}async handleSubmit(){var i,e,o,s;this.busy=true;const n=t({variants:(e=(i=this.product)===null||i===void 0?void 0:i.variants)===null||e===void 0?void 0:e.data,values:this.variantValues});if((o=this.price)===null||o===void 0?void 0:o.ad_hoc){return window.location.assign(a(window.location.href,{action:"confirm_amount",price_id:(s=this.price)===null||s===void 0?void 0:s.id,variant:n===null||n===void 0?void 0:n.id}))}return window.location.assign(a(window.location.href,{action:"confirm",variant:n===null||n===void 0?void 0:n.id}))}buttonText(){var i,e,t,a;if((i=this.price)===null||i===void 0?void 0:i.ad_hoc){if(((e=this.price)===null||e===void 0?void 0:e.id)===((a=(t=this.subscription)===null||t===void 0?void 0:t.price)===null||a===void 0?void 0:a.id)){return wp.i18n.__("Update Amount","surecart")}return wp.i18n.__("Choose Amount","surecart")}return wp.i18n.__("Next","surecart")}render(){var i,t;return e("sc-dashboard-module",{key:"7df45cf8bbfc50029738bcda72ec915eced3b775",heading:this.heading||wp.i18n.__("Enter An Amount","surecart"),class:"subscription-switch"},e("sc-card",{key:"6d6a348cecc94fe240151764aad6d6e2f7e738da"},e("sc-form",{key:"a50988dc888d8fe751a318f837475cc62b6903c7",onScSubmit:this.handleSubmit},e("div",{key:"a12b937dc9602246a8d227a7d27706f86946d071",class:"sc-product-variation-choice-wrap"},(((t=(i=this.product)===null||i===void 0?void 0:i.variant_options)===null||t===void 0?void 0:t.data)||[]).map((({name:i,values:t,id:a},o)=>{var s,n;return e("sc-select",{exportparts:"base:select__base, input, form-control, label, help-text, trigger, panel, caret, menu__base, spinner__base, empty",part:"name__input",value:((n=(s=this.subscription)===null||s===void 0?void 0:s.variant_options)===null||n===void 0?void 0:n[o])||"",onScChange:i=>{this.variantValues[o]=i.detail.value},label:i,choices:t===null||t===void 0?void 0:t.map((i=>({label:i,value:i}))),unselect:false,key:a})}))),e("sc-button",{key:"fa1f612f228cf2a2e11b50460f253ed6bfabbc1f",type:"primary",full:true,submit:true,loading:this.busy},this.buttonText()," ",e("sc-icon",{key:"65568a6859e2bb5c64429e6ce9776630f91b000d",name:"arrow-right",slot:"suffix"})))),this.busy&&e("sc-block-ui",{key:"0acf4ac2d9683614e7560a0de35008faaef959b6",style:{zIndex:"9"}}))}};n.style=s;export{n as sc_subscription_variation_confirm};
//# sourceMappingURL=p-5d386e28.entry.js.map