import{r as e,c,h as i,H as o,a as t}from"./p-e97fde0a.js";import{F as s}from"./p-8b323bfb.js";import{i as r}from"./p-b0d8cd6e.js";const a=":host{display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;min-width:0;align-self:stretch;--mobile-size:100px}[hidden]{border:0 !important;clip:rect(0 0 0 0) !important;height:1px !important;margin:-1px !important;overflow:hidden !important;padding:0 !important;position:absolute !important;width:1px !important}.choice{background:var(--sc-choice-background-color);font-family:var(--sc-input-font-family);font-size:var(--sc-input-font-size-medium);font-weight:var(--sc-input-font-weight);user-select:none;border:var(--sc-choice-border);border-radius:var(--sc-choice-border-radius, var(--sc-input-border-radius-large));box-shadow:var(--sc-choice-box-shadow);cursor:pointer;padding:var(--sc-choice-padding, 1.3em 1.1em);position:relative;text-decoration:none;color:var(--sc-input-color);height:100%;transition:background-color 150ms ease, border-color 150ms ease, color 150ms ease, box-shadow 150ms ease}.choice--is-rtl{text-align:right}.choice__content{cursor:pointer;display:flex;gap:0.75em;align-items:center}.choice--checked{border-color:var(--sc-color-primary-500);box-shadow:0 0 0 1px var(--sc-color-primary-500);z-index:1}.choice__title{display:inline-block;font-weight:var(--sc-input-label-font-weight);font-size:var(--sc-input-label-font-size-medium)}.choice--size-small{padding:0.75em 0.9em}.choice--size-large{padding:1.3em 1.1em}.choice__icon{display:inline-flex;width:var(--sc-radio-size);height:var(--sc-radio-size)}.choice__icon svg{width:100%;height:100%}.choice__control{flex:0 0 auto;position:relative;display:inline-flex;align-items:center;justify-content:center;border:solid var(--sc-input-border-width) var(--sc-input-border-color);background-color:var(--sc-input-background-color);color:transparent;transition:var(--sc-input-transition, var(--sc-transition-medium)) border-color, var(--sc-input-transition, var(--sc-transition-medium)) background-color, var(--sc-input-transition, var(--sc-transition-medium)) color, var(--sc-input-transition, var(--sc-transition-medium)) box-shadow}.choice__control.choice__radio{width:var(--sc-radio-size);height:var(--sc-radio-size);border-radius:50%}.choice__control.choice__checkbox{width:var(--sc-toggle-size);height:var(--sc-toggle-size);border-radius:4px}.choice__control input[type=radio],.choice__control input[type=checkbox]{position:absolute;opacity:0;padding:0;margin:0;pointer-events:none}.choice:not(.choice--checked):not(.choice--disabled) .choice__control:hover{border-color:var(--sc-input-border-color-hover);background-color:var(--sc-input-background-color-hover)}.choice.choice--focused:not(.choice--checked):not(.choice--disabled) .choice__control{border-color:var(--var-sc-checked-focus-border-color, var(--sc-input-background-color));background-color:var(--sc-input-background-color-focus);box-shadow:0 0 0 var(--sc-focus-ring-width) var(--sc-color-primary-500)}.choice.choice--focused:not(.choice--checked):not(.choice--disabled){outline-style:solid;outline-color:var(--sc-color-primary-500);outline-width:var(--sc-focus-ring-width);outline-offset:2px}.choice--checked .choice__control{color:var(--var-sc-checked-color, var(--sc-input-background-color));border-color:var(--sc-color-primary-500);background-color:var(--sc-color-primary-500)}.choice.choice--checked:not(.choice--disabled) .choice__control:hover{border-color:var(--var-sc-checked-hover-radio-border-color, var(--sc-input-background-color));background-color:var(--sc-color-primary-500)}.choice.choice--checked:not(.choice--disabled).choice--focused .choice__control{border-color:var(--var-sc-checked-focus-radio-border-color, var(--sc-input-background-color));background-color:var(--sc-color-primary-500);box-shadow:0 0 0 var(--sc-focus-ring-width) var(--sc-focus-ring-color-primary)}.choice--disabled{opacity:0.5;cursor:not-allowed}.choice:not(.choice--checked) svg circle{opacity:0}.choice__label{width:100%;line-height:1;user-select:none}.choice--layout-columns .choice__label{display:flex;justify-content:space-between;flex-wrap:wrap;gap:0.5em}.choice--layout-columns .choice__price{text-align:right;margin:0;display:flex;gap:var(--sc-spacing-xx-small)}.choice__description{display:inline-block;color:var(--sc-color-gray-500);font-size:var(--sc-font-size-medium)}.choice__label-text{display:block;display:flex;flex-direction:column;gap:0.2em;flex:1}.choice__price{display:block}";const n=a;let h=0;const d=class{constructor(i){e(this,i);this.scBlur=c(this,"scBlur",7);this.scChange=c(this,"scChange",7);this.scFocus=c(this,"scFocus",7);this.inputId=`choice-${++h}`;this.labelId=`choice-label-${h}`;this.hasFocus=false;this.isStacked=false;this.name=undefined;this.size="medium";this.value=undefined;this.type="radio";this.disabled=false;this.checked=false;this.required=false;this.invalid=false;this.showLabel=true;this.showPrice=true;this.showControl=true;this.hasDefaultSlot=undefined;this.hasPrice=undefined;this.hasPer=undefined;this.hasDescription=undefined}async triggerClick(){this.input.click()}async triggerFocus(){this.input.focus()}async reportValidity(){this.invalid=!this.input.checkValidity();if(this.required){const e=this.getAllChoices();if(!e.some((e=>e.checked))){this.input.setCustomValidity(this.type==="radio"?wp.i18n.__("Please choose one.","surecart"):wp.i18n.__("Please choose at least one.","surecart"));this.invalid=!this.input.checkValidity()}else{this.input.setCustomValidity("");this.invalid=!this.input.checkValidity()}}return this.input.reportValidity()}handleCheckedChange(){this.input.setCustomValidity("");if(this.type==="radio"&&this.checked){this.getSiblingChoices().map((e=>e.checked=false))}this.input.checked=this.checked}handleBlur(){this.hasFocus=false;this.scBlur.emit()}handleFocus(){this.hasFocus=true;this.scFocus.emit()}async setCustomValidity(e){this.input.setCustomValidity(e);this.invalid=!this.input.checkValidity()}getAllChoices(){const e=this.el.closest("sc-choices")||this.el.parentElement;if(!e){return[]}return[...e.querySelectorAll("sc-choice")]}getSiblingChoices(){return this.getAllChoices().filter((e=>e!==this.el))}handleKeyDown(e){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){const c=this.getAllChoices().filter((e=>!e.disabled));const i=["ArrowUp","ArrowLeft"].includes(e.key)?-1:1;let o=c.indexOf(this.el)+i;if(o<0)o=c.length-1;if(o>c.length-1)o=0;c[o].triggerFocus();c[o].checked=true;e.preventDefault()}if("Enter"===e.key||" "===e.key){this.handleClickEvent()}}handleMouseDown(e){e.preventDefault();this.input.focus()}componentDidLoad(){this.handleResize();this.formController=new s(this.el,{value:e=>e.checked?e.value:undefined}).addFormData()}disconnectedCallback(){var e;(e=this.formController)===null||e===void 0?void 0:e.removeFormData()}handleResize(){if(!(window===null||window===void 0?void 0:window.ResizeObserver)){return}const e=new window.ResizeObserver((e=>{for(let c of e){if(c.contentBoxSize){const e=Array.isArray(c.contentBoxSize)?c.contentBoxSize[0]:c.contentBoxSize;setTimeout((()=>this.isStacked=(e===null||e===void 0?void 0:e.inlineSize)<350),0)}}}));e.observe(this.el)}handleSlotChange(){this.hasPrice=!!this.el.querySelector('[slot="price"]');this.hasPer=!!this.el.querySelector('[slot="per"]');this.hasDescription=!!this.el.querySelector('[slot="description"]');this.hasDefaultSlot=!!this.el.querySelector('[slot="default"]')}handleClickEvent(){if(this.type==="checkbox"){this.checked=!this.checked;this.scChange.emit(this.input.checked)}else if(!this.checked){this.checked=true;this.scChange.emit(this.input.checked)}}render(){return i(o,{key:"982377adcb32dcd27fb17fa40567d9cd8c9fab31",tabindex:"0",onFocus:()=>this.input.focus()},i("div",{key:"f7aa25e47e21055dccf9266eb6e77c7efbe74d75",part:"base",class:{choice:true,"choice--checked":this.checked,"choice--disabled":this.disabled,"choice--focused":this.hasFocus,"choice--layout-columns":!this.isStacked,"choice--is-rtl":r(),[`choice--size-${this.size}`]:true},onKeyDown:e=>this.handleKeyDown(e),onMouseDown:e=>this.handleMouseDown(e)},i("slot",{key:"442be3d1ab4bdcf6a515555dabd56bbf3af60902",name:"header"}),i("label",{key:"03057c0b7930043bf1e236bc11fa58dfd3eeacac",class:"choice__content",part:"content",htmlFor:this.inputId},i("span",{key:"0f156c372b6f1c5d3e8bebe522e497df9144edd1",part:"control",class:{choice__control:true,choice__checkbox:this.type==="checkbox",choice__radio:this.type==="radio"},hidden:!this.showControl},i("span",{key:"fa49a3f5f33625bff693c20006f7972b511e8da8",part:"checked-icon",class:"choice__icon"},this.type==="checkbox"?i("svg",{viewBox:"0 0 16 16"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round"},i("g",{stroke:"currentColor","stroke-width":"2"},i("g",{transform:"translate(3.428571, 3.428571)"},i("path",{d:"M0,5.71428571 L3.42857143,9.14285714"}),i("path",{d:"M9.14285714,0 L3.42857143,9.14285714"}))))):i("svg",{viewBox:"0 0 16 16"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor"},i("circle",{cx:"8",cy:"8",r:"3.42857143"}))))),i("input",{key:"c0da967dc2ddb30083eaedcae06d4bb5d4945d13",id:this.inputId,ref:e=>this.input=e,type:this.type,name:this.name,value:this.value,checked:this.checked,disabled:this.disabled,"aria-checked":this.checked?"true":"false","aria-disabled":this.disabled?"true":"false","aria-labelledby":this.labelId,tabindex:"0",onBlur:()=>this.handleBlur(),onFocus:()=>this.handleFocus(),onChange:()=>this.handleClickEvent()})),i("span",{key:"b4e071da6b4191d13f6512eb774b9cf55efa7787",part:"label",id:this.labelId,class:"choice__label"},i("span",{key:"558da520aa66a37537d7c7c5847c783483c99dcd",class:"choice__label-text",hidden:!this.showLabel},i("span",{key:"4d44a82530178f2eda1bf08f24fc4887f95ba4ee",class:"choice__title",part:"title"},i("slot",{key:"8a76a3b7f2f467416baedce0d2abae5519a71661",onSlotchange:()=>this.handleSlotChange()})),i("span",{key:"3ceb0bd5d34f611b2fa625a4cae863ca8f6c6f9e",class:"choice__description description",part:"description",hidden:!this.hasDescription},i("slot",{key:"5a9c9663ed045c652af45dfa2eed87c49c98c11b",name:"description",onSlotchange:()=>this.handleSlotChange()}))),i("span",{key:"51a16c017c14bae353f09ec1b31842fc6553aaff",class:"choice__price",hidden:!this.showPrice||!this.hasPrice&&!this.hasPer},i("span",{key:"383994f02bb37e1a7adb58ccacd934f3028f07e4",class:"choice__title"},i("slot",{key:"80c549d6efebf797aa57029de430f64f884b2569",name:"price",onSlotchange:()=>this.handleSlotChange()}))," ",i("span",{key:"ee6349bf0cc1c2780df237b89ba180b22cbf154e",class:"choice__description"},i("slot",{key:"311561e04ebc7bba10d5623db24f4c942c804d51",name:"per",onSlotchange:()=>this.handleSlotChange()}))))),i("slot",{key:"475c233f9f84b0a41b4ccb94bcb30d2830fad165",name:"footer"})))}get el(){return t(this)}static get watchers(){return{checked:["handleCheckedChange"]}}};d.style=n;export{d as sc_choice};
//# sourceMappingURL=p-a5399eb7.entry.js.map