import{proxyCustomElement,HTMLElement,h,Fragment}from"@stencil/core/internal/client";import"./watchers2.js";import{s as state}from"./store.js";import{d as defineCustomElement$5}from"./sc-divider2.js";import{d as defineCustomElement$4}from"./sc-line-item2.js";import{d as defineCustomElement$3}from"./sc-skeleton2.js";import{d as defineCustomElement$2}from"./sc-summary2.js";const scUpsellTotalsCss=":host{display:block}sc-divider{margin:16px 0 !important}.conversion-description{color:var(--sc-color-gray-500);font-size:var(--sc-font-size-small);margin-right:var(--sc-spacing-xx-small)}",ScUpsellTotalsStyle0=scUpsellTotalsCss,ScUpsellTotals$1=proxyCustomElement(class extends HTMLElement{constructor(){super(),this.__registerHost(),this.__attachShadow()}renderAmountDue(){var e,t;return state.amount_due>0?null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_display_amount:(null===(t=null==state?void 0:state.line_item)||void 0===t?void 0:t.trial_amount)?wp.i18n.__("Trial","surecart"):wp.i18n.__("Free","surecart")}getCurrencyToDisplay(){var e,t,s,l,i,n,o;return(null===(s=null===(t=null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_default_currency_display_amount)||void 0===t?void 0:t.toLowerCase())||void 0===s?void 0:s.includes(null===(i=null===(l=null==state?void 0:state.line_item)||void 0===l?void 0:l.currency)||void 0===i?void 0:i.toLowerCase()))?"":null===(o=null===(n=null==state?void 0:state.line_item)||void 0===n?void 0:n.currency)||void 0===o?void 0:o.toUpperCase()}renderConversion(){var e,t,s,l,i,n;const o=null==state?void 0:state.checkout;return(null==o?void 0:o.show_converted_total)?(null==o?void 0:o.currency)===(null==o?void 0:o.current_currency)?null:(null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_amount)?h(Fragment,null,h("sc-divider",null),h("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},h("span",{slot:"title"},h("slot",{name:"charge-amount-description"},wp.i18n.sprintf(wp.i18n.__("Payment Total","surecart"),null===(s=null===(t=null==state?void 0:state.line_item)||void 0===t?void 0:t.currency)||void 0===s?void 0:s.toUpperCase()))),h("span",{slot:"price"},this.getCurrencyToDisplay()&&h("span",{class:"currency-label"},this.getCurrencyToDisplay()),null===(l=null==state?void 0:state.line_item)||void 0===l?void 0:l.total_default_currency_display_amount)),h("sc-line-item",null,h("span",{slot:"description",class:"conversion-description"},wp.i18n.sprintf(wp.i18n.__("Your payment will be processed in %s.","surecart"),null===(n=null===(i=null==state?void 0:state.line_item)||void 0===i?void 0:i.currency)||void 0===n?void 0:n.toUpperCase())))):null:null}render(){var e,t,s,l,i,n,o;return h("sc-summary",{key:"5e51e4f2d57d941315f7194bfdb6b7ca05064be3","open-text":"Total","closed-text":"Total",collapsible:!0,collapsed:!0},!!(null===(e=state.line_item)||void 0===e?void 0:e.id)&&h("span",{key:"6db4cb6aff477a5ca39464185d5314ddec9b7c10",slot:"price"},this.renderAmountDue()),h("sc-divider",{key:"36e72c9e2e44b790ce40d8dc26fb6d17e2715d2d"}),h("sc-line-item",{key:"bd9e43fb6bfa0f2aee6d374e8aebae30f5d4c528"},h("span",{key:"1fe30f972808c90348d12ff45fd19ed3ea310a11",slot:"description"},wp.i18n.__("Subtotal","surecart")),h("span",{key:"d8f0193a7ba8b97b14195310fe832de0f7515114",slot:"price"},null===(t=state.line_item)||void 0===t?void 0:t.subtotal_display_amount)),((null===(l=null===(s=null==state?void 0:state.line_item)||void 0===s?void 0:s.fees)||void 0===l?void 0:l.data)||[]).filter((e=>"upsell"===e.fee_type)).map((e=>h("sc-line-item",null,h("span",{slot:"description"},e.description," ",`(${wp.i18n.__("one time","surecart")})`),h("span",{slot:"price"},null==e?void 0:e.display_amount)))),!!(null===(i=state.line_item)||void 0===i?void 0:i.tax_amount)&&h("sc-line-item",{key:"89ff1c99d84e425b1b9711c68ec8f310394bb606"},h("span",{key:"745dc449429f6e5477d402f8b69c575063524f46",slot:"description"},wp.i18n.__("Tax","surecart")),h("span",{key:"eaae0e33767a697afbb3c1c75be1086aaa812671",slot:"price"},null===(n=state.line_item)||void 0===n?void 0:n.tax_display_amount)),h("sc-divider",{key:"89fa21fbe6b6acc1bbe5152139a4ef798f877da6"}),h("sc-line-item",{key:"7417b410544ac8ad468559c3be69dae70070d4e7",style:{"--price-size":"var(--sc-font-size-x-large)"}},h("span",{key:"4021ded5d9a097a6c0539c6b7e057ee865a2f9e8",slot:"title"},wp.i18n.__("Total","surecart")),h("span",{key:"406f967030d47dc0a85843665e5287fb3eaec1ac",slot:"price"},null===(o=state.line_item)||void 0===o?void 0:o.total_display_amount)),this.renderConversion())}static get style(){return ScUpsellTotalsStyle0}},[1,"sc-upsell-totals"]);function defineCustomElement$1(){"undefined"!=typeof customElements&&["sc-upsell-totals","sc-divider","sc-line-item","sc-skeleton","sc-summary"].forEach((e=>{switch(e){case"sc-upsell-totals":customElements.get(e)||customElements.define(e,ScUpsellTotals$1);break;case"sc-divider":customElements.get(e)||defineCustomElement$5();break;case"sc-line-item":customElements.get(e)||defineCustomElement$4();break;case"sc-skeleton":customElements.get(e)||defineCustomElement$3();break;case"sc-summary":customElements.get(e)||defineCustomElement$2()}}))}const ScUpsellTotals=ScUpsellTotals$1,defineCustomElement=defineCustomElement$1;export{ScUpsellTotals,defineCustomElement};